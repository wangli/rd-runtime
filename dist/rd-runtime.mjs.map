{"version":3,"file":"rd-runtime.mjs","sources":["../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_root.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/_getPrototype.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/isPlainObject.js","../node_modules/eventemitter3/index.js","../src/command/buffer.js","../src/events/index.js","../node_modules/dayjs/dayjs.min.js","../src/utils/convert.js","../src/utils/index.js","../src/command/index.js","../src/config.js","../node_modules/nanoid/index.prod.js","../src/component/dispatchEvent.js","../src/display/sprites.js","../src/component/baseMixin.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/eq.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/isObject.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/_Map.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_defineProperty.js","../node_modules/lodash/_baseAssignValue.js","../node_modules/lodash/_assignMergeValue.js","../node_modules/lodash/_createBaseFor.js","../node_modules/lodash/_baseFor.js","../node_modules/lodash/_cloneBuffer.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_cloneArrayBuffer.js","../node_modules/lodash/_cloneTypedArray.js","../node_modules/lodash/_copyArray.js","../node_modules/lodash/_baseCreate.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_initCloneObject.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/isArray.js","../node_modules/lodash/isLength.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/isArrayLikeObject.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/_safeGet.js","../node_modules/lodash/_assignValue.js","../node_modules/lodash/_copyObject.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_nativeKeysIn.js","../node_modules/lodash/_baseKeysIn.js","../node_modules/lodash/keysIn.js","../node_modules/lodash/toPlainObject.js","../node_modules/lodash/_baseMergeDeep.js","../node_modules/lodash/_baseMerge.js","../node_modules/lodash/identity.js","../node_modules/lodash/_apply.js","../node_modules/lodash/_overRest.js","../node_modules/lodash/constant.js","../node_modules/lodash/_baseSetToString.js","../node_modules/lodash/_shortOut.js","../node_modules/lodash/_setToString.js","../node_modules/lodash/_baseRest.js","../node_modules/lodash/_isIterateeCall.js","../node_modules/lodash/_createAssigner.js","../node_modules/lodash/merge.js","../src/component/components.js","../src/data/TypeModel.js","../src/component/index.js","../src/data/SprData/msData.js","../src/utils/sprite.js","../src/data/actionData.js","../src/display/interaction/click.js","../src/display/interaction/customize.js","../src/display/interaction/timeout.js","../src/utils/interval.js","../src/display/interaction/interval.js","../src/display/creatEvent.js","../src/data/SprData/ModulesData.js","../src/data/SprData/GroupData.js","../src/data/SprData/SpritesData.js","../src/data/SprData/index.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/_isKey.js","../node_modules/lodash/memoize.js","../node_modules/lodash/_memoizeCapped.js","../node_modules/lodash/_stringToPath.js","../node_modules/lodash/_arrayMap.js","../node_modules/lodash/_baseToString.js","../node_modules/lodash/toString.js","../node_modules/lodash/_castPath.js","../node_modules/lodash/_toKey.js","../node_modules/lodash/_baseGet.js","../node_modules/lodash/get.js","../src/data/AppData.js","../node_modules/lodash/isFinite.js","../src/utils/request.js","../src/remote/requestData.js","../src/remote/RemoteData.js","../src/remote/createRemoteData.js","../src/remote/index.js","../src/data/GlobalData.js","../src/plugin/index.js","../src/data/initData.js","../src/data/getTemplateData.js","../src/data/index.js","../src/helper/event.js","../src/helper/action.js","../src/helper/index.js","../src/display/createSprite.js","../src/display/stage.js","../src/display/coms/Module.js","../src/display/coms/Plane.js","../src/display/coms/Popwin.js","../src/display/coms/Content.js","../src/display/coms/ContentFixed.js","../src/display/coms/Overlayer.js","../src/display/coms/Message.js","../src/display/coms/Mask.js","../src/display/coms/Background.js","../src/display/coms/SpriteGroup.js","../src/display/coms/SpriteObject.js","../src/display/index.js","../src/app.js","../src/controller/actions.js","../src/controller/controller.js","../src/controller/index.js","../src/utils/loadjs.js","../node_modules/page-lifecycle/dist/lifecycle.mjs","../src/index.js"],"sourcesContent":["/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","/**\r\n * 发送相同事件名间隔时间缓冲判断\r\n */\r\nconst eventNames = {}\r\nconst interval = 10;\r\nexport default function (name) {\r\n    // 过滤发送的事件命令，发送间隔低于10毫秒的不通过\r\n    var ispass = true\r\n    var time = new Date().getTime()\r\n    if (eventNames[name]) {\r\n        if (time - eventNames[name].time < interval) ispass = false\r\n        eventNames[name].count++\r\n        eventNames[name].time = time\r\n    } else {\r\n        eventNames[name] = {\r\n            count: 1,\r\n            time: time\r\n        }\r\n    }\r\n    return ispass\r\n}","// 对外用户事件\r\nexport const EVENTS = {\r\n   //    点击舞台\r\n   CLICK_STAGE: 'click-stage',\r\n   //    点击舞台背景\r\n   CLICK_BACKGROUND: 'click-background',\r\n   //    点击元件\r\n   CLICK_SPRITE: 'click-sprite',\r\n   //    双击元件\r\n   DBLCLICK_SPRITE: 'dblclick-sprite',\r\n   //    鼠标按下舞台背景\r\n   MOUSEDOWN_BACKGROUND: 'mousedown-background',\r\n   //    鼠标释放舞台背景\r\n   MOUSEUP_BACKGROUND: 'mouseup-background',\r\n   //    鼠标经过元件\r\n   MOUSEOVER_SPRITE: 'mouseover-sprite',\r\n   //    鼠标离开元件\r\n   MOUSEOUT_SPRITE: 'mouseout-sprite',\r\n   //    鼠标按下元件\r\n   MOUSEDOWN_SPRITE: 'mousedown-sprite',\r\n   //    鼠标释放元件\r\n   MOUSEUP_SPRITE: 'mouseup-sprite',\r\n   //    鼠标移入元件\r\n   MOUSEENTER_SPRITE: 'mouseenter-sprite',\r\n   //    鼠标移出元件\r\n   MOUSELEAVE_SPRITE: 'mouseleave-sprite',\r\n   //    舞台渲染完毕\r\n   STAGE_MOUNTED: 'stage-mounted',\r\n   // 数据加载完成\r\n   DATA_LOADED: 'data-loaded',\r\n   // 页面状态\r\n   PAGE_STATE: 'page-state'\r\n}\r\n// 内部控制事件\r\nexport const CEVENTS = {\r\n   // 执行动作\r\n   ACTION: 'action',\r\n   // 设置应用\r\n   APP_ACTION: 'appAction'\r\n}","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",f=\"month\",h=\"quarter\",c=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:c,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:h}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=function(t){return t instanceof _},S=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},w=function(t,e){if(p(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O=v;O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),l=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return O.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(h){case c:return r?l(1,0):l(31,11);case f:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=h+\"Date\",n[d]=h+\"Date\",n[f]=h+\"Month\",n[c]=h+\"FullYear\",n[u]=h+\"Hours\",n[s]=h+\"Minutes\",n[i]=h+\"Seconds\",n[r]=h+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,l=this;r=Number(r);var $=O.p(h),y=function(t){var e=w(l);return O.w(e.date(e.date()+Math.round(t*r)),l)};if($===f)return this.set(f,this.$M+r);if($===c)return this.set(c,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=O.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,f=n.months,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},c=function(t){return O.s(s%12||12,t,\"0\")},d=n.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},$={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,\"0\"),MMM:h(n.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,o,2),ddd:h(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,\"0\"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,\"0\"),s:String(this.$s),ss:O.s(this.$s,2,\"0\"),SSS:O.s(this.$ms,3,\"0\"),Z:i};return r.replace(y,(function(t,e){return e||$[t]||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*e,v=this-M,g=O.m(this,M);return g=($={},$[c]=g/12,$[f]=g,$[h]=g/3,$[o]=(v-m)/6048e5,$[a]=(v-m)/864e5,$[u]=v/n,$[s]=v/e,$[i]=v/t,$)[y]||v,l?g:O.a(g)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),T=_.prototype;return w.prototype=T,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",f],[\"$y\",c],[\"$D\",d]].forEach((function(t){T[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=D[g],w.Ls=D,w.p={},w}));","import isPlainObject from 'lodash/isPlainObject'\r\nimport * as dayjs from 'dayjs'\r\n\r\nconst formatFunc = {\r\n   dayjs(value, rule) {\r\n      return dayjs(value).format(rule)\r\n   }\r\n}\r\n\r\n\r\n// 读取数据\r\nconst readData = function (data, keyPath, mapKey, format) {\r\n   let resData = data\r\n   if (keyPath) {\r\n      let keys = keyPath.split('.')\r\n      for (let key of keys) {\r\n         if (typeof resData[key] != 'undefined') {\r\n            resData = resData[key]\r\n         } else {\r\n            resData = null\r\n            break\r\n         }\r\n      }\r\n   } else {\r\n      if (typeof format == 'object' && format.func) {\r\n         return formatFunc[format.func].call(null, resData, format.rule)\r\n      } else {\r\n         return resData\r\n      }\r\n   }\r\n   if (mapKey && resData instanceof Array) {\r\n      return resData.map(itemData => {\r\n         return readData(itemData, mapKey, null, format)\r\n      })\r\n   } else {\r\n      if (typeof format == 'object' && format.func) {\r\n         return formatFunc[format.func].call(null, resData, format.rule)\r\n      } else {\r\n         return resData\r\n      }\r\n   }\r\n}\r\n\r\n\r\n/**\r\n * 提取原来数据中的相关数据，转换后如下\r\n * config是提取规则，规则主要是两个值x和y值\r\n * x是一个横向的数据的提取规则\r\n * y是一个纵向的多组数据的提取规则\r\n * 任何一个规则都包含三个属性值name：姓名名称，path：提取深度路径，mapKey：提取所在深度的具体值，\r\n * 示例：\r\n * 数据源\r\n *  {\r\n    base: {\r\n        name: 'wangli',\r\n        age: 18,\r\n        ued: [{\r\n                year: '2010',\r\n                fk: {a: 11,b: 99}\r\n            },\r\n            {\r\n                year: '2011',\r\n                fk: {a: 15,b: 80}\r\n            },\r\n            {\r\n                year: '2012',\r\n                fk: {a: 30,b: 60}\r\n            }]\r\n        }\r\n    }\r\n * -----------------------------------------------------------------------------------------\r\n  提取规则 1\r\n  {name:'year',path:'base.ued',mapKey:'year',format:{func:'dayjs',rule:''}}\r\n  返回结果\r\n  { year:['2010','2011','2012'] }\r\n * -----------------------------------------------------------------------------------------\r\n  提取规则 2\r\n  [\r\n  {name:'year',path:'base.ued',mapKey:'year'},\r\n  {name:'name',path:'base.name',mapKey:''},\r\n  ]\r\n  返回结果\r\n  {\r\n  year:['2010','2011','2012'],\r\n  name:'wangli'\r\n  }\r\n * -----------------------------------------------------------------------------------------\r\n  提取规则 3\r\n  {\r\n   x:{name:'年份',path:'base.ued',mapKey:'year',format:null},\r\n   y:[{name:'张三',path:'base.ued',mapKey:'fk.a',format:null},{name:'张三',path:'base.ued',mapKey:'fk.a',format:null}]\r\n  }\r\n  返回结果\r\n  [\r\n    [ '年份', '张三', '李四' ],\r\n    [ '2010', 11, 99 ],\r\n    [ '2011', 15, 80 ],\r\n    [ '2012', 30, 60 ]\r\n  ]\r\n * -----------------------------------------------------------------------------------------\r\n * \r\n * @param {*} data 提取数据\r\n * @param {*} config 提取规则\r\n * @returns Object\r\n */\r\nexport const extractData = function (data, config) {\r\n   if (config && isPlainObject(config) && config.y && config.y instanceof Array && config.y.length > 0) {\r\n      let resData = []\r\n      if (config.x && config.x.name && config.x.path) {\r\n         resData.push([config.x.name])\r\n         // 二维数组，填充第一条数据\r\n         let rowHead = readData(data, config.x.path, config.x.mapKey, config.x.format)\r\n         if (rowHead) {\r\n            rowHead.forEach((element, index) => {\r\n               resData[index + 1] = [element]\r\n            })\r\n         }\r\n         // 根据y数据规则集合，提取数据行列\r\n         config.y.forEach(item => {\r\n            // 行数据，第一列数据\r\n            resData[0].push(item.name)\r\n            // 行数据，追加其他数据\r\n            let itemData = readData(data, item.path, item.mapKey, item.format)\r\n            if (itemData && itemData instanceof Array) {\r\n               itemData.forEach((element, index) => {\r\n                  if (resData[index + 1]) {\r\n                     resData[index + 1].push(element)\r\n                  } else {\r\n                     resData[index + 1] = [element]\r\n                  }\r\n               })\r\n            }\r\n         })\r\n      } else {\r\n         // 根据y数据规则集合，提取数据行列\r\n         config.y.forEach((item, i) => {\r\n            let itemData = readData(data, item.path, item.mapKey, item.format)\r\n            if (itemData && itemData instanceof Array) {\r\n               if (i == 0) {\r\n                  resData.push([item.name])\r\n               } else {\r\n                  resData[0].push(item.name)\r\n               }\r\n               itemData.forEach((element, index) => {\r\n                  if (resData[index + 1]) {\r\n                     resData[index + 1].push(element)\r\n                  } else {\r\n                     resData[index + 1] = [element]\r\n                  }\r\n               })\r\n            }\r\n         })\r\n      }\r\n      return resData\r\n   } else if (config && isPlainObject(config) && config.name && config.path) {\r\n      return {\r\n         [config.name]: readData(data, config.path, config.mapKey, config.format)\r\n      }\r\n   } else if (config && config instanceof Array) {\r\n      let resData = {}\r\n      config.forEach(element => {\r\n         resData[element.name] = readData(data, element.path, element.mapKey, element.format)\r\n      });\r\n      return resData\r\n   } else {\r\n      console.log('数据未处理')\r\n      return data\r\n   }\r\n}","export * as dayjs from 'dayjs'\r\nexport { extractData } from './convert'\r\n// 将一般对象转换为纯json对象\r\nexport const jsonData = function (val) {\r\n   if (typeof val == 'string') {\r\n      try {\r\n         return JSON.parse(val)\r\n      } catch (error) {\r\n         return val\r\n      }\r\n   } else if (val) {\r\n      return JSON.parse(JSON.stringify(val))\r\n   } else {\r\n      return {}\r\n   }\r\n}\r\n// 生成唯一序号\r\nexport const guid = function () {\r\n   const S4 = function () {\r\n      return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n   }\r\n   return (S4() + S4() + S4() + S4() + S4() + S4() + S4() + S4());\r\n}\r\n// 定时器\r\nlet ids = {}\r\nexport const interval = {\r\n   add(_fun, _time, _id) {\r\n      let time = _time || 1000\r\n      let id = _id || \"id_\" + new Date().getTime() + \"\" + Math.floor(Math.random() * 1000);\r\n      if (ids[id]) {\r\n         clearInterval(ids[id])\r\n      }\r\n      ids[id] = setInterval(_fun, time);\r\n      return id;\r\n   },\r\n   del(_id) {\r\n      if (_id) {\r\n         if (ids[_id]) {\r\n            clearInterval(ids[_id])\r\n            delete ids[_id]\r\n         }\r\n      } else {\r\n         for (const key in ids) {\r\n            if (Object.hasOwnProperty.call(ids, key)) {\r\n               clearInterval(ids[key])\r\n            }\r\n         }\r\n         ids = {}\r\n      }\r\n   }\r\n}\r\n\r\n// 延时处理\r\nlet idos = {}\r\nexport const timeout = {\r\n   add(_fun, _time, _id) {\r\n      let time = _time || 1000\r\n      let id = _id || \"id_\" + new Date().getTime() + \"\" + Math.floor(Math.random() * 1000);\r\n      if (idos[id]) {\r\n         clearTimeout(idos[id])\r\n      }\r\n      idos[id] = setTimeout(_fun, time);\r\n      return id;\r\n   },\r\n   del(_id) {\r\n      if (_id) {\r\n         if (idos[_id]) {\r\n            clearTimeout(idos[_id])\r\n            delete idos[_id]\r\n         }\r\n      } else {\r\n         for (const key in idos) {\r\n            if (Object.hasOwnProperty.call(idos, key)) {\r\n               clearTimeout(idos[key])\r\n            }\r\n         }\r\n         idos = {}\r\n      }\r\n   }\r\n}\r\n\r\n// json转url参数\r\nexport const jsonToParams = function (data) {\r\n   return data ? Object.keys(data).map(function (key) {\r\n      return encodeURIComponent(key) + \"=\" + encodeURIComponent(data[key]);\r\n   }).join(\"&\") : ''\r\n}\r\n\r\n// 删除数组值，根据对象key值删除\r\nexport const removeArray = function (array, key, value) {\r\n   if (array && array instanceof Array) {\r\n      let index = key ? array.findIndex(n => n[key] == value) : array.findIndex(n => n == value)\r\n      if (index > -1) {\r\n         return array.splice(index, 1)\r\n      } else {\r\n         return false\r\n      }\r\n   } else {\r\n      return false\r\n   }\r\n}\r\n// 获取url参数值\r\nexport const getUrlParam = function (name, decode = true) {\r\n   let url = location.href.slice(location.href.lastIndexOf('?'))\r\n   let result = {}\r\n   let reg = /([^?=&#]+)=([^?=&#]+)/g\r\n   url.replace(reg, (n, x, y) => result[x] = decode ? decodeURIComponent(y) : y)\r\n   return name ? result[name] || '' : result\r\n}","import EventEmitter from 'eventemitter3'\r\nimport buffer from './buffer'\r\nimport { CEVENTS } from '../events'\r\nimport { jsonData } from '../utils'\r\n\r\n// 事件监听\r\nconst evtCenter = new EventEmitter()\r\n\r\n/**\r\n * 根据事件委托命令发送中心\r\n * @module command\r\n */\r\nconst command = {\r\n   /**\r\n    * 添加需要托管的eventObj对象事件\r\n    * @param {string} eventName 事件名称\r\n    * @param {function} fun 事件方法\r\n    * @param {object} eventObj  委托对象\r\n    */\r\n   addEventListener(eventName, fun, eventObj = null) {\r\n      // 注册命令事件\r\n      evtCenter.on(eventName, fun, eventObj)\r\n   },\r\n   /**\r\n    * 删除托管的eventObj对象事件\r\n    * @param {string} eventName 事件名称\r\n    * @param {function} fun 委托对象\r\n    * @param {object} eventObj  委托对象\r\n    */\r\n   removeEventListener(eventName, fun, eventObj) {\r\n      if (eventObj && fun) {\r\n         evtCenter.off(eventName, fun, eventObj)\r\n      } else if (fun) {\r\n         evtCenter.off(eventName, fun)\r\n      } else {\r\n         evtCenter.off(eventName)\r\n      }\r\n   },\r\n   /**\r\n    * 清除所有\r\n    */\r\n   clear(event) {\r\n      evtCenter.removeAllListeners(event)\r\n   },\r\n   /**\r\n    * 发送命令\r\n    * @param {string} eventName 事件名称\r\n    * @param {object} args 参数 \r\n    * @param {boolean} force 强制发送\r\n    */\r\n   emit(eventName, args, force = false) {\r\n      if (typeof force == 'boolean' && force) {\r\n         evtCenter.emit(eventName, args)\r\n      } else if (buffer(eventName)) {\r\n         let len = arguments.length\r\n         if (len <= 3) {\r\n            evtCenter.emit(eventName, args, force)\r\n         } else {\r\n            let _args = []\r\n            for (i = 1; i < len; i++) {\r\n               _args[0] = arguments[i]\r\n            }\r\n            evtCenter.emit(eventName, ..._args)\r\n         }\r\n      }\r\n   },\r\n   /**\r\n    * 执行命令\r\n    * @param {*} action \r\n    * @param {*} target \r\n    */\r\n   execute(action, target = \"\") {\r\n      let sendData = {\r\n         target,\r\n         data: jsonData(action)\r\n      }\r\n      this.emit(CEVENTS.ACTION, sendData)\r\n   },\r\n   /**\r\n    * 消息提示\r\n    */\r\n   message(val) {\r\n      this.emit('message-send', val)\r\n   },\r\n   /**\r\n    * 执行元件内的cmdRunning方法\r\n    * @param {string} id 元件id \r\n    * @param {*} data \r\n    */\r\n   running(id, data) {\r\n      this.emit('run_function_' + id, data)\r\n   },\r\n   /**\r\n    * 执行数据更新\r\n    * @param {string} target 目标对象id \r\n    * @param {*} value 数据值\r\n    */\r\n   reviewData(target, value) {\r\n      this.emit(CEVENTS.ACTION, {\r\n         data: {\r\n            action: 'reviewData',\r\n            target,\r\n            value\r\n         }\r\n      })\r\n   }\r\n}\r\n\r\nexport default command","// 应用舞台配置\r\n\r\nexport const AppSetup = {\r\n   // 宽度\r\n   width: 1920,\r\n   // 高度\r\n   height: 1080,\r\n   // 背景色\r\n   backgroundColor: \"#222222\",\r\n   // 缩放模式\r\n   scaleMode: 'auto',\r\n   // 开启交互动作\r\n   interaction: false,\r\n   // 点击事件鼠标经过光标样式\r\n   clickCursor: 'auto',\r\n   // 是否开启整体缩放\r\n   scale: false,\r\n   // 当前应用状态，none未创建，create已创建，display已展示，destroy销毁\r\n   status: 'none',\r\n   // 所在容器\r\n   dom: null\r\n}","// This file replaces `index.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nimport { urlAlphabet } from './url-alphabet/index.js'\n\nif (false) {\n  // All bundlers will remove this block in the production bundle.\n  if (\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative' &&\n    typeof crypto === 'undefined'\n  ) {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n        'If you don’t need unpredictable IDs use `nanoid/non-secure`. ' +\n        'For secure IDs, import `react-native-get-random-values` ' +\n        'before Nano ID.'\n    )\n  }\n  if (typeof msCrypto !== 'undefined' && typeof crypto === 'undefined') {\n    throw new Error(\n      'Import file with `if (!window.crypto) window.crypto = window.msCrypto`' +\n        ' before importing Nano ID to fix IE 11 support'\n    )\n  }\n  if (typeof crypto === 'undefined') {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n        'If you don’t need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\n\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\n\nlet customRandom = (alphabet, size, getRandom) => {\n  // First, a bitmask is necessary to generate the ID. The bitmask makes bytes\n  // values closer to the alphabet size. The bitmask calculates the closest\n  // `2^31 - 1` number, which exceeds the alphabet size.\n  // For example, the bitmask for the alphabet size 30 is 31 (00011111).\n  // `Math.clz32` is not used, because it is not available in browsers.\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  // Though, the bitmask solution is not perfect since the bytes exceeding\n  // the alphabet size are refused. Therefore, to reliably generate the ID,\n  // the random bytes redundancy has to be satisfied.\n\n  // Note: every hardware random generator call is performance expensive,\n  // because the system call for entropy collection takes a lot of time.\n  // So, to avoid additional system calls, extra bytes are requested in advance.\n\n  // Next, a step determines how many random bytes to generate.\n  // The number of random bytes gets decided upon the ID size, mask,\n  // alphabet size, and magic number 1.6 (using 1.6 peaks at performance\n  // according to benchmarks).\n\n  // `-~f => Math.ceil(f)` if f is a float\n  // `-~i => i + 1` if i is an integer\n  let step = -~((1.6 * mask * size) / alphabet.length)\n\n  return () => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      // A compact alternative for `for (var i = 0; i < step; i++)`.\n      let j = step\n      while (j--) {\n        // Adding `|| ''` refuses a random byte that exceeds the alphabet size.\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\n\nlet customAlphabet = (alphabet, size) => customRandom(alphabet, size, random)\n\nlet nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n\n  // A compact alternative for `for (var i = 0; i < step; i++)`.\n  while (size--) {\n    // It is incorrect to use bytes exceeding the alphabet size.\n    // The following mask reduces the random byte in the 0-255 value\n    // range to the 0-63 value range. Therefore, adding hacks, such\n    // as empty string fallback or magic numbers, is unneccessary because\n    // the bitmask trims bytes down to the alphabet size.\n    let byte = bytes[size] & 63\n    if (byte < 36) {\n      // `0-9a-z`\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      // `A-Z`\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte < 63) {\n      id += '_'\n    } else {\n      id += '-'\n    }\n  }\n  return id\n}\n\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n","export default function ($el, event, component, value) {\r\n   if ($el && $el.getAttribute && $el.getAttribute(event)) {\r\n      $el.dispatchEvent(new CustomEvent(event, {\r\n         detail: {\r\n            component,\r\n            value\r\n         }\r\n      }));\r\n   }\r\n}","const list = {}\r\n\r\nexport default {\r\n   add(val) {\r\n      if (val.id) {\r\n         list[val.id] = val\r\n      }\r\n   },\r\n   del(val) {\r\n      if (val.id) {\r\n         delete list[val.id]\r\n      }\r\n   },\r\n   get items() {\r\n      return list\r\n   }\r\n}","import dispatchEvent from \"./dispatchEvent\"\r\nimport sprites from '../display/sprites'\r\nimport cmd from '../command'\r\nimport { AppSetup } from '../config'\r\nexport default {\r\n   props: {\r\n      id: { type: String, default: \"\" },\r\n      // 是否可见\r\n      visible: { type: Boolean, default: true },\r\n      // 横坐标\r\n      x: { type: Number, default: 0 },\r\n      // 纵坐标\r\n      y: { type: Number, default: 0 },\r\n      // 宽度\r\n      width: { type: Number, default: 0 },\r\n      // 高度\r\n      height: { type: Number, default: 0 },\r\n      // 透明\r\n      opacity: { type: Number, default: 100 },\r\n      // 角度\r\n      angle: { type: Number, default: 0 },\r\n      // 边框\r\n      border: { type: Object, default () { return {} } },\r\n      // 内边距\r\n      padding: { type: String, default: \"\" },\r\n      // 背景\r\n      background: { type: Object, default () { return {} } },\r\n      // 阴影\r\n      shadow: { type: Object, default () { return {} } },\r\n      // 深度\r\n      zIndex: { type: Number, default: 0 },\r\n      // 事件名称\r\n      events: { type: Array, default () { return [] } },\r\n      // 附加配置项\r\n      options: { type: Object, default () { return {} } },\r\n      // 是否被选中\r\n      selected: { type: Boolean, default: false },\r\n      // 锁\r\n      lock: { type: Boolean, default: false },\r\n      // 划过\r\n      hover: { type: Boolean, default: false },\r\n      // 捆绑玉约束\r\n      bind: { type: Boolean, default: false },\r\n      // 动效\r\n      anim: { type: Object, default () { return {} } },\r\n      // 数据\r\n      data: [String, Number, Object, Array],\r\n      // 标题（说明）\r\n      title: String\r\n   },\r\n   computed: {\r\n      rect() {\r\n         return {\r\n            x: this.x,\r\n            y: this.y,\r\n            width: this.width,\r\n            height: this.height\r\n         }\r\n      },\r\n      style() {\r\n         let anim = (typeof this.anim == 'object' && this.anim.options) ? this.anim.options : {}\r\n         return {\r\n            position: 'absolute',\r\n            width: this.width > 0 ? this.width + 'px' : 'auto',\r\n            height: this.height > 0 ? this.height + 'px' : 'auto',\r\n            top: this.y + 'px',\r\n            left: this.x + 'px',\r\n            zIndex: this.selected ? 100000 + this.zIndex : this.zIndex,\r\n            transform: 'rotate(' + this.angle + 'deg)',\r\n            opacity: this.opacity / 100,\r\n            padding: this.padding,\r\n            ...this.border,\r\n            ...this.background,\r\n            ...this.shadow,\r\n            ...anim\r\n         }\r\n      }\r\n   },\r\n   created() {\r\n      this.AppSetup = AppSetup\r\n      sprites.add(this)\r\n      if (this.id) {\r\n         cmd.addEventListener(`run_function_${this.id}`, data => {\r\n            this.cmdRunning && this.cmdRunning(data)\r\n         })\r\n      }\r\n   },\r\n   mounted() {\r\n      dispatchEvent(this.$el, 'timeout', this, 'mounted')\r\n      dispatchEvent(this.$el, 'interval', this, 'mounted')\r\n   },\r\n   beforeUnmount() {\r\n      sprites.del(this)\r\n      if (this.id) {\r\n         cmd.removeEventListener(`run_function_${this.id}`)\r\n      }\r\n      dispatchEvent(this.$el, 'timeout', this, 'beforeUnmount')\r\n      dispatchEvent(this.$el, 'interval', this, 'beforeUnmount')\r\n   }\r\n}","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignMergeValue;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nmodule.exports = safeGet;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n","var assignMergeValue = require('./_assignMergeValue'),\n    cloneBuffer = require('./_cloneBuffer'),\n    cloneTypedArray = require('./_cloneTypedArray'),\n    copyArray = require('./_copyArray'),\n    initCloneObject = require('./_initCloneObject'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isPlainObject = require('./isPlainObject'),\n    isTypedArray = require('./isTypedArray'),\n    safeGet = require('./_safeGet'),\n    toPlainObject = require('./toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nmodule.exports = baseMergeDeep;\n","var Stack = require('./_Stack'),\n    assignMergeValue = require('./_assignMergeValue'),\n    baseFor = require('./_baseFor'),\n    baseMergeDeep = require('./_baseMergeDeep'),\n    isObject = require('./isObject'),\n    keysIn = require('./keysIn'),\n    safeGet = require('./_safeGet');\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nmodule.exports = baseMerge;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nmodule.exports = merge;\n","import app from '../app'\r\nimport baseMixin from './baseMixin'\r\nimport merge from 'lodash/merge'\r\nimport { reactive } from 'vue'\r\n\r\n/**\r\n * 需要用户维护的组件管理\r\n */\r\n\r\n// 已注册组件集合\r\nexport const components = {}\r\nexport const simpleComponents = reactive({})\r\n// 添加组件\r\nconst addComponent = function (component) {\r\n   if (component.name) {\r\n      if (components[component.name]) {\r\n         console.warn('重复组件名:' + component.name)\r\n      } else {\r\n         let item = merge({}, baseMixin, component)\r\n         components[component.name] = item\r\n         simpleComponents[item.name] = {\r\n            name: item.name,\r\n            type: item.type,\r\n            label: item.label,\r\n            icon: item.icon,\r\n         }\r\n         if (app.vm) {\r\n            app.vm.component(component.name, components[component.name])\r\n         } else {\r\n            console.error('组件注册失败，缺少app')\r\n         }\r\n      }\r\n   } else {\r\n      console.warn('缺少组件名')\r\n   }\r\n}\r\nexport const delComponent = function (key) {\r\n   if (Array.isArray(key)) {\r\n      key.forEach(k => {\r\n         if (components[k]) {\r\n            delete components[k]\r\n            delete simpleComponents[k]\r\n         }\r\n      })\r\n   } else if (key && typeof key == 'string') {\r\n      if (components[key]) {\r\n         delete components[key]\r\n         delete simpleComponents[key]\r\n      }\r\n   }\r\n}\r\n// 已注册组件列表\r\nexport const getComponentItems = function () {\r\n   return Object.values(components)\r\n}\r\n/**\r\n * 安装组件通过外部添加\r\n * @param {*} com \r\n */\r\nexport const install = function (com) {\r\n   if (com instanceof Array) {\r\n      com.forEach(element => {\r\n         addComponent(element)\r\n      });\r\n   } else if (typeof com == 'object') {\r\n      addComponent(com)\r\n   }\r\n}\r\n// 重装组件\r\nexport const reload = function () {\r\n   let items = Object.values(components)\r\n   items.forEach(component => {\r\n      if (app.vm) {\r\n         components[component.name] = merge({}, baseMixin, component)\r\n         app.vm.component(component.name, components[component.name])\r\n      } else {\r\n         console.error('组件注册失败，缺少app')\r\n      }\r\n   });\r\n}","const actions = [{\r\n   name: '显示隐藏',\r\n   action: \"show\",\r\n   target: 'component',\r\n   valueType: 'boolean',\r\n   value: true\r\n},\r\n{\r\n   name: '轮换显示隐藏',\r\n   action: \"toggle\",\r\n   target: 'component',\r\n   valueType: \"undefined\",\r\n   value: null\r\n},\r\n{\r\n   name: '发送数据',\r\n   action: \"sendData\",\r\n   target: 'component',\r\n   valueType: 'object',\r\n   value: null\r\n}, {\r\n   name: '打开外链',\r\n   action: 'href',\r\n   target: 'url',\r\n   valueType: 'string',\r\n   value: ''\r\n}, {\r\n   name: '页面切换',\r\n   action: 'singleModule',\r\n   target: 'modules',\r\n   valueType: 'string',\r\n   value: \"\"\r\n}, {\r\n   name: '开关弹窗',\r\n   action: 'popup',\r\n   target: 'module',\r\n   valueType: 'string',\r\n   value: \"\"\r\n}]\r\n\r\n/**\r\n * 此模块是数据相关定义、初始化、配置等\r\n */\r\nexport default {\r\n   // 模块类型，content场景主内容，overlayer基础弹层内容\r\n   get level() {\r\n      return [{\r\n         name: '主内容区',\r\n         type: 'content'\r\n      }, {\r\n         name: '覆盖弹层',\r\n         type: 'overlayer'\r\n      }]\r\n   },\r\n   /**\r\n    * 事件类型，click点击，interval定时器，timeout延迟\r\n    * name：具体事件名称描述\r\n    * event：事件类型\r\n    * pams：附加参数\r\n    * actions：需要执行的动作列表\r\n    */\r\n   get events() {\r\n      return [{\r\n         name: '点击',\r\n         event: 'click',\r\n         pams: '',\r\n         actions: [],\r\n         actionValue: {}\r\n      },\r\n      {\r\n         name: '定时任务',\r\n         event: 'interval',\r\n         pams: { delay: 1000 },\r\n         actions: [],\r\n         actionValue: {}\r\n      },\r\n      {\r\n         name: '延迟任务',\r\n         event: 'timeout',\r\n         pams: { delay: 1000 },\r\n         actions: [],\r\n         actionValue: {}\r\n      }]\r\n   },\r\n   // 组件类型\r\n   get component() {\r\n      return [\r\n         { name: '图表', type: 'chart' },\r\n         { name: '文本', type: 'text' },\r\n         { name: '表格', type: 'table' },\r\n         { name: '形状', type: 'shape' },\r\n         { name: '菜单', type: 'menu' },\r\n         { name: '媒体', type: 'media' },\r\n         { name: '地图', type: 'map' },\r\n         { name: '3D', type: '3d' },\r\n         { name: '其它', type: 'other' }\r\n      ]\r\n   },\r\n   // 动作类型 ：显示隐藏，发送数据\r\n   get actions() {\r\n      return actions\r\n   },\r\n   // 数据类型\r\n   get dataTypes() {\r\n      return [\r\n      {\r\n         name: '静态数据',\r\n         type: 'source'\r\n      },\r\n      {\r\n         name: '远程数据',\r\n         type: 'remote'\r\n      },\r\n      {\r\n         name: '本地数据',\r\n         type: 'local'\r\n      }]\r\n   }\r\n}","import { install, components, simpleComponents, getComponentItems, delComponent, reload } from './components'\r\nimport { nanoid } from 'nanoid'\r\nimport TypeModel from '../data/TypeModel'\r\n\r\n\r\nvar componentArray = []\r\nexport default {\r\n   // 当前已安装组件\r\n   get items() {\r\n      return simpleComponents\r\n   },\r\n   getComponentItems,\r\n   // 返回组件默认数据\r\n   getComponentDefaultData(name) {\r\n      let component = components[name]\r\n      if (!component) return {}\r\n      let data = {}\r\n      let mixins = component['mixins'] || []\r\n      let props = {}\r\n      for (const val of mixins) {\r\n         if (val['props']) {\r\n            Object.assign(props, val['props'])\r\n         }\r\n      }\r\n      Object.assign(props, component['props'])\r\n      for (const key in props) {\r\n         if (Object.hasOwnProperty.call(props, key)) {\r\n            const element = props[key];\r\n            if (typeof element['default'] == 'function') {\r\n               data[key] = element['default'].call()\r\n            } else {\r\n               data[key] = element['default']\r\n            }\r\n         }\r\n      }\r\n      data['id'] = 'sprite_' + nanoid(10)\r\n      data['name'] = name\r\n      data['type'] = component.type || \"\"\r\n      return data;\r\n   },\r\n   // 返回组件自定义事件\r\n   getComponentEvents(name) {\r\n      let component = components[name]\r\n      if (!component) return []\r\n      let data = []\r\n      let emits = component['emits'] || []\r\n      for (const key in emits) {\r\n         data.push({\r\n            name: emits[key],\r\n            event: emits[key],\r\n            pams: '',\r\n            actions: /^solo-/.test(name) ? null : []\r\n         })\r\n      }\r\n      return data\r\n   },\r\n   // 返回组件事件（含默认事件）\r\n   getEvents(name) {\r\n      return [...TypeModel.events, ...this.getComponentEvents(name)]\r\n   },\r\n   // 添加组件\r\n   add(com) {\r\n      if (com) {\r\n         if (Array.isArray(com)) {\r\n            com.forEach(element => {\r\n               if (componentArray.find(item => item.name == element.name)) {\r\n                  console.warn(element.name + '组件名重复')\r\n               } else {\r\n                  componentArray.push(element)\r\n               }\r\n            })\r\n         } else {\r\n            if (componentArray.find(item => item.name == com.name)) {\r\n               console.warn(com.name + '组件名重复')\r\n               return false\r\n            } else {\r\n               componentArray.push(com)\r\n               return true\r\n            }\r\n         }\r\n      }\r\n   },\r\n   // 删除所有组件\r\n   removeAll() {\r\n      componentArray = []\r\n      delComponent(Object.keys(components))\r\n   },\r\n   // 安装组件\r\n   install(com) {\r\n      if (com) {\r\n         // 安装单个组件\r\n         if (Array.isArray(com)) {\r\n            com.forEach(element => {\r\n               if (this.add(element)) {\r\n                  install(element)\r\n               }\r\n            });\r\n         } else {\r\n            if (this.add(com)) {\r\n               install(com)\r\n            }\r\n         }\r\n      } else {\r\n         install(componentArray)\r\n      }\r\n   },\r\n   reload() {\r\n      reload()\r\n   }\r\n}","import { reactive } from 'vue'\r\nimport { nanoid } from 'nanoid'\r\nimport comp from '@/component'\r\n\r\n// 所有素材集合\r\nexport const elements = {}\r\n// 模块数据集合\r\nexport const modules = reactive({})\r\n// 组合数据集合\r\nexport const groups = {}\r\n// 元件数据集合\r\nexport const sprites = {}\r\n// 元件数据集合（简单副本）\r\nexport const simpleSprites = reactive({})\r\n// 监听对象\r\nexport const unwatchs = {}\r\n\r\n// 模块计数\r\nlet moduleCunt = 1\r\n// 组合计数\r\nlet groupCount = 1\r\n// 元件计数\r\nlet spriteCount = 1\r\n\r\n// 返回组件默认基础数据\r\nexport const initCompData = function (name, option = {}) {\r\n   let defaultData = comp.getComponentDefaultData(name)\r\n   let title = defaultData.title\r\n   let data = {\r\n      id: null,\r\n      gpid: null,\r\n      mid: null,\r\n      name: defaultData.name,\r\n      type: defaultData.type,\r\n      title: title ? (title + spriteCount++) : '元件 ' + spriteCount++,\r\n      x: defaultData.x || 0,\r\n      y: defaultData.y || 0,\r\n      width: defaultData.width || 0,\r\n      height: defaultData.height || 0,\r\n      data: defaultData.data || '',\r\n      opacity: defaultData.opacity || 100,\r\n      visible: defaultData.visible || true,\r\n      selected: defaultData.selected || false,\r\n      hover: defaultData.hover || false,\r\n      background: defaultData.background,\r\n      border: defaultData.border,\r\n      shadow: defaultData.shadow,\r\n      anim: defaultData.anim || {}\r\n   }\r\n   Object.assign(data, option)\r\n   if (!data.id) {\r\n      data.id = 'sprite_' + nanoid(10)\r\n   }\r\n   return data\r\n}\r\nexport const setSprite = function (data, option) {\r\n   let newData = reactive({})\r\n   if (typeof data == 'string' && comp.items[data]) {\r\n      // 创建一个基础的原件对象 \r\n      Object.assign(newData, initCompData(data, option))\r\n      sprites[newData.id] = newData\r\n      elements[newData.id] = newData\r\n      return newData\r\n   } else if (typeof data == 'object') {\r\n      // 根据初始化数据创建原件对象\r\n      if (data.id && sprites[data.id]) {\r\n         if (option) {\r\n            Object.assign(sprites[data.id], option)\r\n         } else {\r\n            console.warn(\"元件\" + data.id + '已存在')\r\n         }\r\n         return sprites[data.id]\r\n      } else if (data.name) {\r\n         // 重新初始化对象\r\n         Object.assign(newData, initCompData(data.name, data))\r\n         sprites[newData.id] = newData\r\n         elements[newData.id] = newData\r\n         return sprites[newData.id]\r\n      } else {\r\n         // 无任何数据描述\r\n         console.error('元件添加失败', data)\r\n         return null\r\n      }\r\n   } else {\r\n      return null\r\n   }\r\n}\r\n// 删除数据对象\r\nexport const delSprite = function (id) {\r\n   if (sprites[id]) {\r\n      delete sprites[id]\r\n      delete elements[id]\r\n      return id\r\n   } else {\r\n      return false\r\n   }\r\n}\r\n// 初始化一个模块数据\r\nexport const initModuleData = function (option = {}) {\r\n   let data = {\r\n      type: 'content',\r\n      name: 'vx-module',\r\n      title: '页面' + moduleCunt++,\r\n      x: 0,\r\n      y: 0,\r\n      components: []\r\n   }\r\n   Object.assign(data, option)\r\n   if (!data.id) {\r\n      data.id = 'mdu_' + nanoid(10)\r\n   }\r\n   return data\r\n}\r\n// 配置模块\r\nexport const setModule = function (id, data) {\r\n   if (id) {\r\n      // 如果模块不存在，先创建一个模块\r\n      if (!modules[id]) {\r\n         modules[id] = initModuleData(Object.assign({ id }, data))\r\n         elements[id] = modules[id]\r\n      }\r\n      // 模块中元件列表不存在，创建一个空列表\r\n      if (!modules[id]['components']) modules[id]['components'] = []\r\n      return modules[id]\r\n   } else if (data) {\r\n      let md = initModuleData(data)\r\n      modules[md.id] = md\r\n      elements[md.id] = modules[md.id]\r\n      return modules[md.id]\r\n   } else {\r\n      return null\r\n   }\r\n}\r\n// 删除模块\r\nexport const delModule = function (id) {\r\n   if (modules[id]) {\r\n      delete modules[id]\r\n      delete elements[id]\r\n      return id\r\n   } else {\r\n      return false\r\n   }\r\n}\r\n// 初始化一个组合数据\r\nexport const initGroupData = function (options = {}) {\r\n   let data = reactive({\r\n      id: null,\r\n      gpid: null,\r\n      mid: null,\r\n      name: 'vx-sprite-group',\r\n      type: 'group',\r\n      title: '组合' + groupCount++,\r\n      x: 0,\r\n      y: 0,\r\n      width: 0,\r\n      height: 0,\r\n      opacity: 100,\r\n      visible: true,\r\n      selected: false,\r\n      hover: false,\r\n      padding: '',\r\n      background: {},\r\n      border: {},\r\n      shadow: {},\r\n      anim: {},\r\n      components: []\r\n   })\r\n   Object.assign(data, options)\r\n   if (!data.id) {\r\n      data.id = 'group_' + nanoid(10)\r\n   }\r\n   return data\r\n}\r\n// 配置组合\r\nexport const setGroup = function (id, data) {\r\n   if (id) {\r\n      // 如果模块不存在，先创建一个模块\r\n      if (groups[id]) {\r\n         Object.assign(groups[id], data)\r\n      } else {\r\n         groups[id] = initGroupData(Object.assign({ id }, data))\r\n         elements[id] = groups[id]\r\n      }\r\n      return groups[id]\r\n   } else {\r\n      let group = initGroupData(data)\r\n      groups[group.id] = group\r\n      elements[group.id] = group\r\n      return groups[group.id]\r\n   }\r\n}\r\n// 删除组合\r\nexport const delGroup = function (id) {\r\n   if (groups[id]) {\r\n      delete groups[id]\r\n      delete elements[id]\r\n      return id\r\n   } else {\r\n      return false\r\n   }\r\n}","import { modules } from '../data/SprData/msData'\r\n\r\nexport const createSimpleData = function (data) {\r\n   let object = {\r\n      id: null,\r\n      gpid: null,\r\n      mid: null,\r\n      visible: null,\r\n      name: null,\r\n      type: null,\r\n      zIndex: null\r\n   }\r\n   for (const key in object) {\r\n      if (Object.hasOwnProperty.call(object, key)) {\r\n         object[key] = data[key] || null\r\n      }\r\n   }\r\n   return object\r\n}\r\n\r\nexport const getMaxZIndex = function (mid) {\r\n\r\n   if (modules[mid]['components'] && modules[mid]['components'].length > 0) {\r\n      let comps = modules[mid]['components'].map(item => {\r\n         return {\r\n            id: item.id,\r\n            zIndex: item.zIndex\r\n         }\r\n      }).sort((a, b) => {\r\n         return b.zIndex - a.zIndex\r\n      })\r\n      return comps[0].zIndex || 0\r\n   } else {\r\n      return 0\r\n   }\r\n}","import { reactive } from 'vue'\r\nimport { nanoid } from 'nanoid'\r\n// 动作数据集合\r\nconst actions = reactive({});\r\n\r\n// 添加动作数据\r\nexport const setActionData = function (data) {\r\n   if (data && typeof data == 'object') {\r\n      let id = data.id = data.id || 'AC_' + nanoid(10)\r\n      actions[id] = data\r\n      return id\r\n   } else {\r\n      return null;\r\n   }\r\n}\r\n// 删除动作数据\r\nexport const delActionData = function (id) {\r\n   if (actions[id]) {\r\n      delete actions[id]\r\n   }\r\n}\r\n// 返回动作数据\r\nexport const getActionData = function (id) {\r\n   return actions[id]\r\n}\r\n// 返回当前所有\r\nexport const getActionsData = function () {\r\n   return actions\r\n}\r\n// 返回当前所有（数组）\r\nexport const getActionList = function (ids) {\r\n   if (ids) {\r\n      let list = []\r\n      if (ids instanceof Array) {\r\n         for (const key in ids) {\r\n            list.push(actions[ids[key]])\r\n         }\r\n      } else if (typeof ids == 'string' && actions[ids]) {\r\n         list.push(actions[ids])\r\n      }\r\n      return list\r\n   } else {\r\n      return Object.values(actions)\r\n   }\r\n}\r\n/**\r\n * 清空数据\r\n */\r\nexport const clearAction = function () {\r\n   let keys = Object.keys(actions)\r\n   keys.forEach(key => {\r\n      delete actions[key]\r\n   });\r\n}","import CMD from '../../command'\r\nimport { EVENTS } from '../../events'\r\nimport { AppSetup } from '../../config'\r\nimport { createSimpleData } from '../../utils/sprite'\r\nimport * as actionData from '../../data/actionData'\r\nimport { jsonData } from '../../utils'\r\n/**\r\n * 添加用户点击事件\r\n * @param {*} element 目标对象\r\n * @param {*} data 元件信息\r\n */\r\nexport default function (element, data) {\r\n   let id = data.id\r\n   // 用户点击元件\r\n   return {\r\n      style: {\r\n         cursor: AppSetup.clickCursor\r\n      },\r\n      onClickCapture: function (evt) {\r\n         CMD.emit(EVENTS.CLICK_SPRITE, createSimpleData(data), evt)\r\n         if (element.actions) {\r\n            let actions = jsonData(actionData.getActionList(element.actions))\r\n            if (element.actionValue && typeof element.actionValue == 'object') {\r\n               actions.forEach(action => {\r\n                  if (element.actionValue[action.id]) {\r\n                     action.value = element.actionValue[action.id]\r\n                  }\r\n               })\r\n            }\r\n            CMD.execute(actions, id)\r\n         }\r\n      }\r\n   }\r\n}","import CMD from '../../command'\r\nimport * as actionData from '../../data/actionData'\r\nimport { components } from '../../component/components'\r\nimport { jsonData } from '../../utils'\r\n\r\n/**\r\n * 执行动作列表\r\n * @param {*} actions \r\n * @param {*} spid \r\n */\r\nconst executeActions = function (actions, spid, data) {\r\n   // 元件内部触发的事件与绑定的动作关联，并根据发送参数合并或替换到动作中的动作值\r\n   let actionsArr = jsonData(actionData.getActionList(actions))\r\n   for (let i = 0, lg = actionsArr.length; i < lg; i++) {\r\n      if (data && actionsArr[i].value && typeof actionsArr[i].value == 'object') {\r\n         Object.assign(actionsArr[i].value, data)\r\n      } else if (data) {\r\n         actionsArr[i].value = data\r\n      }\r\n   }\r\n   CMD.execute(actionsArr, spid)\r\n}\r\n\r\n/**\r\n * 添加用户点击事件\r\n * @param {*} element 目标对象\r\n * @param {*} spid 元件id\r\n */\r\nexport default function (element, spid, componentName) {\r\n   let evts = {}\r\n   if (componentName && components[componentName]) {\r\n      let emits = components[componentName].emits || []\r\n      // 元件内部触发\r\n      let event = emits.find(n => n == element.event)\r\n\r\n      if (event && typeof event == 'string') {\r\n         // 事件名称要符合字母、数字、下划线、减号，大于1位小于33位，并已字母开头的规则\r\n         if (/^[a-zA-Z][-_a-zA-Z0-9_-]{1,32}$/.test(event)) {\r\n            // 将首字母转大写\r\n            evts[\"on\" + event.toLowerCase().replace(/( |^)[a-z]/g, (L) => L.toUpperCase())] = function (data) {\r\n               if (/^solo-/.test(event) && data) {\r\n                  if (element.actions && element.actions instanceof Array && element.actions.length > 0) {\r\n                     // 如果自定义事件绑定了指定的动作，将参数传递给指定的动作\r\n                     executeActions(element.actions, spid, data)\r\n                  } else {\r\n                     // solo单事件处理，事件参数就是动作id\r\n                     CMD.execute(jsonData(actionData.getActionList(data)), spid)\r\n                  }\r\n               } else if (element.actions && element.actions instanceof Array) {\r\n                  executeActions(element.actions, spid, data)\r\n               }\r\n            }\r\n         } else {\r\n            console.warn(event + \"无效的事件名定义\")\r\n         }\r\n      } else {\r\n         console.warn(element.event + \"事件没有定义\")\r\n      }\r\n   }\r\n   return evts\r\n}","import CMD from '../../command'\r\nimport * as actionData from '../../data/actionData'\r\n/**\r\n * 添加用户延迟事件\r\n * @param {*} element 目标对象\r\n * @param {*} spid 元件id\r\n */\r\nexport default function (element, spid) {\r\n   let it = null\r\n   // 用户点击元件\r\n   return {\r\n      timeout: '1',\r\n      onTimeout(evt) {\r\n         let lifecycle = evt.detail.value\r\n         if (it) {\r\n            clearTimeout(it)\r\n            it = null\r\n         }\r\n         if (lifecycle == 'mounted') {\r\n            let pams = element.pams || {}\r\n            let delay = pams.delay || 1000\r\n            it = setTimeout(() => {\r\n               // 执行动作\r\n               if (element.actions) {\r\n                  CMD.execute(actionData.getActionList(element.actions), spid)\r\n               }\r\n            }, parseInt(delay));\r\n         }\r\n      }\r\n   }\r\n}","import { nanoid } from 'nanoid'\r\n\r\nlet ids = {}\r\n/**\r\n * 定时器\r\n */\r\nexport default {\r\n   add(_fun, _time = 1000, _id) {\r\n      let id = _id || \"it_\" + nanoid(7)\r\n      if (ids[id]) {\r\n         clearInterval(ids[id])\r\n      }\r\n      ids[id] = setInterval(_fun, _time);\r\n      return id;\r\n   },\r\n   del(_id) {\r\n      if (_id) {\r\n         if (ids[_id]) {\r\n            clearInterval(ids[_id])\r\n            delete ids[_id]\r\n         }\r\n      } else {\r\n         for (const key in ids) {\r\n            clearInterval(ids[key])\r\n         }\r\n         ids = {}\r\n      }\r\n   }\r\n}","import CMD from '../../command'\r\nimport * as actionData from '../../data/actionData'\r\nimport interval from '../../utils/interval'\r\n\r\n/**\r\n * 添加定时任务事件\r\n * @param {*} element 目标对象\r\n * @param {*} spid 元件id\r\n */\r\nexport default function (element, spid) {\r\n   let it = null\r\n\r\n   return {\r\n      interval: '1',\r\n      onInterval(evt) {\r\n         if (it) {\r\n            interval.del(it)\r\n            it = null\r\n         }\r\n         if (evt.detail.value == 'mounted') {\r\n            let pams = element.pams || {}\r\n            let delay = pams.delay || 1000\r\n            it = interval.add(() => {\r\n               // 执行动作\r\n               if (element.actions) {\r\n                  CMD.execute(actionData.getActionList(element.actions), spid)\r\n               }\r\n            }, parseInt(delay))\r\n         }\r\n      }\r\n   }\r\n}","import CMD from '../command'\r\nimport { EVENTS } from '../events'\r\nimport { AppSetup } from '../config'\r\nimport { createSimpleData } from '../utils/sprite'\r\nimport * as interaction from './interaction'\r\n\r\n/**\r\n * 对组件创建一组事件对象，并在h方法中通过props传递\r\n * @param {Array} events 事件\r\n * @param {String} id 组件id\r\n * @returns \r\n */\r\nexport default function (events, data = {}, componentName = \"\") {\r\n   let evts = {}\r\n   let id = data.id\r\n   if (componentName) {\r\n      evts = {\r\n         style: {}\r\n      }\r\n   }\r\n   if (AppSetup.interaction) {\r\n      // 开始交互动作\r\n      events.forEach(element => {\r\n         switch (element.event) {\r\n         case 'click':\r\n            // 用户点击元件\r\n            Object.assign(evts, interaction.click(element, data))\r\n            break\r\n         case 'timeout':\r\n            // 显示后延迟执行\r\n            Object.assign(evts, interaction.timeout(element, id))\r\n            break\r\n         case 'interval':\r\n            // 显示后定时执行\r\n            Object.assign(evts, interaction.interval(element, id))\r\n            break\r\n         default:\r\n            // 自定义事件\r\n            Object.assign(evts, interaction.customize(element, id, componentName))\r\n         }\r\n      });\r\n   } else {\r\n      if (data.type == 'group' && !data.gpid) {\r\n         Object.assign(evts, {\r\n            onClickCapture(e) {\r\n               e.stopPropagation()\r\n               CMD.emit(EVENTS.CLICK_SPRITE, createSimpleData(data), e)\r\n            },\r\n            onDblclickCapture(e) {\r\n               e.stopPropagation()\r\n               CMD.emit(EVENTS.DBLCLICK_SPRITE, createSimpleData(data), e)\r\n            },\r\n            onMousedownCapture(e) {\r\n               CMD.emit(EVENTS.MOUSEDOWN_SPRITE, createSimpleData(data), e)\r\n            },\r\n            onMouseoverCapture(e) {\r\n               CMD.emit(EVENTS.MOUSEOVER_SPRITE, createSimpleData(data), e)\r\n            },\r\n            onMouseoutCapture(e) {\r\n               CMD.emit(EVENTS.MOUSEOUT_SPRITE, createSimpleData(data), e)\r\n            },\r\n            onMouseupCapture(e) {\r\n               CMD.emit(EVENTS.MOUSEUP_SPRITE, createSimpleData(data), e)\r\n            },\r\n            onMouseleaveCapture(e) {\r\n               CMD.emit(EVENTS.MOUSELEAVE_SPRITE, createSimpleData(data), e)\r\n            },\r\n            onMouseenterCapture(e) {\r\n               CMD.emit(EVENTS.MOUSEENTER_SPRITE, createSimpleData(data), e)\r\n            }\r\n         })\r\n      } else {\r\n         Object.assign(evts, {\r\n            onClick(e) {\r\n               e.stopPropagation()\r\n               CMD.emit(EVENTS.CLICK_SPRITE, createSimpleData(data), e)\r\n            },\r\n            onMousedown(e) {\r\n               CMD.emit(EVENTS.MOUSEDOWN_SPRITE, createSimpleData(data), e)\r\n            },\r\n            onMouseover(e) {\r\n               CMD.emit(EVENTS.MOUSEOVER_SPRITE, createSimpleData(data), e)\r\n            },\r\n            onMouseout(e) {\r\n               CMD.emit(EVENTS.MOUSEOUT_SPRITE, createSimpleData(data), e)\r\n            },\r\n            onMouseup(e) {\r\n               CMD.emit(EVENTS.MOUSEUP_SPRITE, createSimpleData(data), e)\r\n            },\r\n            onMouseleave(e) {\r\n               CMD.emit(EVENTS.MOUSELEAVE_SPRITE, createSimpleData(data), e)\r\n            },\r\n            onMouseenter(e) {\r\n               CMD.emit(EVENTS.MOUSEENTER_SPRITE, createSimpleData(data), e)\r\n            }\r\n         })\r\n      }\r\n   }\r\n   return evts\r\n}","import { modules, setModule, delModule } from './msData'\r\nimport { removeArray } from '@/utils'\r\n\r\n\r\n// 创建一个新的模块，并添加\r\nexport const newMouleData = function (data) {\r\n   if (data && typeof data == 'object') {\r\n      if (data.id) {\r\n         if (modules[data.id]) {\r\n            console.warn(\"模块\" + data.id + '已存在')\r\n            return null\r\n         } else {\r\n            return setModule(data.id, data)\r\n         }\r\n      } else {\r\n         return setModule(null, data)\r\n      }\r\n   } else if (typeof data == 'string') {\r\n      if (modules[data]) {\r\n         console.warn(\"模块\" + data + '已存在')\r\n         return null\r\n      } else {\r\n         // 如果是一个不存在的模块id，初始化模块\r\n         return setModule(data)\r\n      }\r\n   } else {\r\n      // 新建模块\r\n      return setModule()\r\n   }\r\n}\r\n\r\n// 添加元件（元件、组合的基本属性）\r\nexport const addElement = function (element, mid = 'default') {\r\n   if (mid && element && typeof element != 'string') {\r\n      if (modules[mid] && modules[mid]['components']) {\r\n         modules[mid]['components'].push(element)\r\n      } else {\r\n         console.warn('模块添加元件数据失败')\r\n      }\r\n   }\r\n}\r\n// 删除元件\r\nexport const delElement = function (id, mid = 'default') {\r\n   if (mid && id) {\r\n      if (modules[mid] && modules[mid]['components']) {\r\n         return removeArray(modules[mid]['components'], 'id', id)\r\n      } else {\r\n         console.warn('模块删除元件数据失败')\r\n         return false\r\n      }\r\n   } else {\r\n      console.warn('mid && id 无效')\r\n      return false\r\n   }\r\n}\r\n// 删除模块数据\r\nexport const delModuleData = function (mid) {\r\n   return delModule(mid)\r\n}\r\n// 返回某个模块\r\nexport const getModule = function (id) {\r\n   return modules[id] || null\r\n}\r\n// 返回当前所有\r\nexport const getModules = function () {\r\n   return modules\r\n}\r\n\r\n// 返回当前所有（数组）\r\nexport const getModuleList = function (filter, key = 'type') {\r\n   if (filter) {\r\n      let items = Object.values(modules)\r\n      if (typeof filter == 'string') {\r\n         return items.filter(item => item[key] == filter)\r\n      } else if (typeof filter == 'function') {\r\n         return items.filter(item => filter(item))\r\n      } else {\r\n         return items\r\n      }\r\n   } else {\r\n      return Object.values(modules)\r\n   }\r\n}\r\n// 返回模块中的所有元件\r\nexport const getModuleComponents = function (mid = 'default') {\r\n   if (modules[mid] && modules[mid]['components']) {\r\n      return modules[mid]['components']\r\n   } else {\r\n      return []\r\n   }\r\n}\r\n// 清空所有模块数据\r\nexport const clearModulesData = function () {\r\n   let keys = Object.keys(modules)\r\n   keys.forEach(key => {\r\n      delModule(key)\r\n   });\r\n}","import { reactive, watch } from 'vue'\r\nimport { sprites, simpleSprites, groups, setGroup, delGroup, unwatchs } from './msData'\r\nimport { addElement as moduleAddElement, delElement as moduleDelElement, getModuleComponents } from './ModulesData'\r\nimport { delSpriteData, createSimpleSprite } from \"./SpritesData\"\r\nimport { getMaxZIndex } from '@/utils/sprite'\r\nimport { removeArray } from '@/utils'\r\n\r\nexport const createSimpleGroup = function (data, value = {}) {\r\n   let o = Object.assign({\r\n      id: data.id,\r\n      gpid: data.gpid,\r\n      mid: data.mid,\r\n      visible: data.visible,\r\n      name: data.name,\r\n      title: data.title,\r\n      type: data.type,\r\n      zIndex: data.zIndex\r\n   }, value)\r\n   simpleSprites[o.id] = o\r\n   return simpleSprites[o.id]\r\n}\r\n// 添加一个组合\r\nexport const newGroupData = function (data, mid = 'default') {\r\n   if (data && typeof data == 'object' && data.id && groups[data.id]) {\r\n      console.warn(\"组合\" + data.id + '已存在')\r\n      return null\r\n   }\r\n   let group = null\r\n   if (data) {\r\n      group = setGroup(data.id, Object.assign({ mid }, data))\r\n   } else {\r\n      group = setGroup(null, { mid })\r\n   }\r\n   if (!group.zIndex) {\r\n      // 设置在舞台的深度\r\n      group.zIndex = getMaxZIndex(mid) + 1\r\n   }\r\n   let simpleGroup = createSimpleGroup(group)\r\n   moduleAddElement(simpleGroup, group.mid)\r\n\r\n   unwatchs[group.id] = watch(group, attsVary => {\r\n      if (simpleSprites[attsVary.id]) {\r\n         let keys = Object.keys(simpleSprites[attsVary.id])\r\n         keys.forEach(key => {\r\n            simpleSprites[attsVary.id][key] = attsVary[key]\r\n         })\r\n      }\r\n   })\r\n   return group\r\n}\r\n// 项组合添加元件（元件、组合的基本属性）\r\nexport const addElement = function (element, gpid) {\r\n   if (gpid && element && typeof element != 'string') {\r\n      if (groups[gpid] && groups[gpid]['components']) {\r\n         groups[gpid]['components'].push(element)\r\n      } else {\r\n         console.warn('模块添加元件数据失败')\r\n      }\r\n   }\r\n}\r\n// 从组合中删除元件\r\nexport const delElement = function (id, gpid) {\r\n   let del = false\r\n   if (gpid && id && groups[gpid] && groups[gpid]['components']) {\r\n      del = removeArray(groups[gpid]['components'], 'id', id)\r\n   }\r\n   if (!del) {\r\n      console.warn('模块删除元件数据失败')\r\n   }\r\n   return del\r\n}\r\n// 组合元件\r\nexport const bind = function (ids, mid = 'default') {\r\n   if (Array.isArray(ids)) {\r\n      // 获取组合的边界\r\n      let point = { x1: 0, y1: 0, x2: 0, y2: 0 }\r\n      let moduleComps = getModuleComponents(mid)\r\n      // 是组合的id\r\n      let gpids = []\r\n      // 需要组合的实际元件\r\n      let spids = []\r\n      // 无效的id\r\n      let invalids = []\r\n      ids.forEach((id, i) => {\r\n         let element = moduleComps.find(item => item.id == id)\r\n         let spr = element ? element.type == 'group' ? groups[id] : sprites[id] : null\r\n         if (spr) {\r\n            if (i == 0) {\r\n               point.x1 = spr.x\r\n               point.y1 = spr.y\r\n               point.x2 = spr.x + spr.width\r\n               point.y2 = spr.y + spr.height\r\n            } else {\r\n               point.x1 = spr.x < point.x1 ? spr.x : point.x1\r\n               point.y1 = spr.y < point.y1 ? spr.y : point.y1\r\n               point.x2 = spr.x + spr.width > point.x2 ? spr.x + spr.width : point.x2\r\n               point.y2 = spr.y + spr.height > point.y2 ? spr.y + spr.height : point.y2\r\n            }\r\n            if (spr.type == 'group') {\r\n               let sps = spr.components ? spr.components.map(item => item.id) : []\r\n               spids.push(...sps)\r\n               gpids.push(spr.id)\r\n            } else {\r\n               spids.push(id)\r\n            }\r\n         } else {\r\n            invalids.push(id)\r\n         }\r\n      })\r\n      if (invalids.length > 0) {\r\n         console.warn(invalids.join(), \"元件无法组合\")\r\n         return false\r\n      }\r\n      // 将组合的解除\r\n      if (gpids.length > 0) {\r\n         gpids.forEach(gpid => {\r\n            unbind(gpid)\r\n         });\r\n      }\r\n      // 从模块中删除元件\r\n      delSpriteData(ids, false)\r\n      // 创建组合\r\n      let group = newGroupData({\r\n         x: point.x1,\r\n         y: point.y1,\r\n         width: point.x2 - point.x1,\r\n         height: point.y2 - point.y1\r\n      }, mid)\r\n      if (group) {\r\n         // 添加元件到组合\r\n         ids.forEach(id => {\r\n            if (sprites[id]) {\r\n               sprites[id].x -= point.x1\r\n               sprites[id].y -= point.y1\r\n               sprites[id].gpid = group.id\r\n               sprites[id].hover = false\r\n               sprites[id].selected = false\r\n               addElement(createSimpleSprite(sprites[id]), group.id)\r\n            }\r\n         })\r\n         return group\r\n      } else {\r\n         return false\r\n      }\r\n   } else {\r\n      return false\r\n   }\r\n}\r\nexport const unbind = function (gpid) {\r\n   if (gpid && groups[gpid] && groups[gpid].components) {\r\n      // 删除模块子集内的组合\r\n      if (moduleDelElement(groups[gpid].id, groups[gpid].mid)) {\r\n\r\n         if (unwatchs[gpid] && typeof unwatchs[gpid] == 'function') {\r\n            unwatchs[gpid]()\r\n         }\r\n\r\n         // 将组合内的元件添加到模块内\r\n         groups[gpid].components.forEach(element => {\r\n            sprites[element.id].x += groups[gpid].x\r\n            sprites[element.id].y += groups[gpid].y\r\n            sprites[element.id].gpid = null\r\n            moduleAddElement(element, element.mid)\r\n         })\r\n         // 删除组合\r\n         return delGroup(gpid)\r\n      } else {\r\n         return false\r\n      }\r\n   }\r\n   return false\r\n}\r\n\r\n\r\n// 返回某个组合\r\nexport const getGroup = function (id) {\r\n   return groups[id] || null\r\n}\r\n\r\n// 返回当前所有组合\r\nexport const getGroups = function () {\r\n   return groups\r\n}\r\n\r\n// 返回当前所有（数组）\r\nexport const getGroupArrData = function () {\r\n   return Object.values(groups)\r\n}\r\n\r\n// 清空所有组件数据\r\nexport const clearGroupsData = function () {\r\n   let keys = Object.keys(groups)\r\n   keys.forEach(key => {\r\n      delGroup(key)\r\n   });\r\n}","import { reactive, watch } from 'vue'\r\nimport comp from '@/component'\r\nimport { getMaxZIndex } from '@/utils/sprite'\r\nimport { sprites, simpleSprites, delSprite, setSprite, setModule, setGroup, unwatchs } from './msData'\r\nimport { addElement as moduleAddElement, delElement as moduleDelElement } from './ModulesData'\r\nimport { addElement as groupAddElement } from './GroupData'\r\n\r\n// 删除单个元件\r\nconst delOneSprite = function (id, source = true) {\r\n   if (sprites[id] && sprites[id]['mid']) {\r\n      let res = moduleDelElement(id, sprites[id]['mid'])\r\n      if (source) {\r\n         // 删除源头\r\n         delSprite(id)\r\n      }\r\n      if (res && unwatchs[id] && typeof unwatchs[id] == 'function') {\r\n         unwatchs[id]()\r\n      }\r\n      return res ? true : false\r\n   } else {\r\n      console.warn('删除模块内元件失败')\r\n   }\r\n   return false\r\n}\r\n\r\n// 清空组件内数据\r\nconst clearSpriteData = function (sprite) {\r\n   let keys = Object.keys(sprite)\r\n   keys.forEach(key => {\r\n      delete sprite[key]\r\n   });\r\n}\r\n\r\nconst appendSprite = function (newData) {\r\n   if (!newData) {\r\n      console.warn('添加元件失败,无数据信息')\r\n      return false\r\n   }\r\n   if (!newData.mid) {\r\n      console.warn('添加元件失败,无模块id' + mid)\r\n      return false\r\n   }\r\n   if (!newData.zIndex) {\r\n      // 设置在舞台的深度\r\n      newData.zIndex = getMaxZIndex(newData.mid) + 1\r\n   }\r\n   // 创建一个简单的元件副本\r\n   let simpleSprite = createSimpleSprite(newData)\r\n   if (newData.gpid && setGroup(newData.gpid)) {\r\n      // 添加到组合中\r\n      groupAddElement(simpleSprite, newData.gpid)\r\n   } else if (setModule(newData.mid)) {\r\n      // 添加到模块中\r\n      moduleAddElement(simpleSprite, newData.mid)\r\n   } else {\r\n      console.warn('添加元件失败', simpleSprite)\r\n      return false\r\n   }\r\n   unwatchs[newData.id] = watch(newData, attsVary => {\r\n      if (simpleSprites[attsVary.id]) {\r\n         let keys = Object.keys(simpleSprites[attsVary.id])\r\n         keys.forEach(key => {\r\n            simpleSprites[attsVary.id][key] = attsVary[key]\r\n         })\r\n      }\r\n   })\r\n   return sprites[newData.id]\r\n}\r\n/**\r\n * 创建一个元件的基本数据副本，主要用于添加到模块，组合等容器中，各容器通过基本信息数据在取真正的元件数据\r\n * @param {object} data \r\n * @param {object} value \r\n * @returns \r\n */\r\nexport const createSimpleSprite = function (data, value = {}) {\r\n   let o = Object.assign({\r\n      id: data.id,\r\n      gpid: data.gpid,\r\n      mid: data.mid,\r\n      visible: data.visible,\r\n      name: data.name,\r\n      title: data.title,\r\n      type: data.type,\r\n      zIndex: data.zIndex\r\n   }, value)\r\n   simpleSprites[o.id] = o\r\n   return simpleSprites[o.id]\r\n}\r\n/**\r\n * 添加一个元件（或新建一个元件）\r\n * @param {*} data \r\n * @param {*} mid \r\n * @param {*} gpid \r\n * @returns \r\n */\r\nexport const addSpriteData = function (data, mid = 'default', gpid = null) {\r\n   // 建立一个新的元件数据对象（响应式的）\r\n   let newData = null\r\n   if (typeof data == 'string' && typeof mid == 'object') {\r\n      newData = setSprite(data, mid)\r\n   } else if (typeof data == 'object') {\r\n      newData = setSprite(data, { mid, gpid })\r\n   }\r\n   if (appendSprite(newData)) {\r\n      return sprites[newData.id]\r\n   } else {\r\n      throw '添加元件失败'\r\n   }\r\n}\r\n\r\n// 删除元件\r\nexport const delSpriteData = function (ids, source = true) {\r\n   if (ids) {\r\n      if (Array.isArray(ids)) {\r\n         ids.forEach(_id => {\r\n            delOneSprite(_id, source)\r\n         })\r\n         return true\r\n      } else if (typeof ids == 'string') {\r\n         return delOneSprite(ids, source)\r\n      }\r\n   }\r\n   return false\r\n}\r\n\r\n// 返回元件数据集合（以id键名）\r\nexport const getSpritesData = function () {\r\n   return sprites;\r\n}\r\n\r\n// 返回元件数据集合（数组）\r\nexport const getSpriteArrData = function (mid) {\r\n   let _sprites = Object.values(sprites)\r\n   return mid ? _sprites.filter(item => item.mid == mid) : _sprites\r\n}\r\n\r\n// 返回元件数据\r\nexport const getSpriteData = function (id) {\r\n   if (sprites[id]) {\r\n      Object.assign(sprites[id], Object.assign({}, comp.getComponentDefaultData(sprites[id].name), sprites[id]))\r\n      return sprites[id]\r\n   } else {\r\n      return null\r\n   }\r\n}\r\n\r\n// 清空所有组件数据\r\nexport const clearSpritesData = function () {\r\n   let keys = Object.keys(sprites)\r\n   keys.forEach(key => {\r\n      clearSpriteData(sprites[key])\r\n      delSprite(key)\r\n   });\r\n}","import * as modules from \"./ModulesData\"\r\nimport * as sprites from \"./SpritesData\"\r\nimport * as Groups from \"./GroupData\"\r\nimport { sprites as sps, groups as gps, delGroup } from './msData'\r\n\r\nexport { elements } from './msData'\r\n// 新建模块\r\nexport const newMouleData = modules.newMouleData\r\n// 删除模块\r\nexport const delModuleData = modules.delModuleData\r\nexport const getModules = modules.getModules\r\nexport const getModule = modules.getModule\r\nexport const getModuleList = modules.getModuleList\r\nexport const getModuleComponents = modules.getModuleComponents\r\nexport const clearModulesData = modules.clearModulesData\r\n// 添加元件\r\nexport const addSpriteData = sprites.addSpriteData\r\n// 删除元件\r\nexport const delSpriteData = sprites.delSpriteData\r\nexport const getSpritesData = sprites.getSpritesData\r\nexport const getSpriteArrData = sprites.getSpriteArrData\r\nexport const getSpriteData = sprites.getSpriteData\r\nexport const clearSpritesData = sprites.clearSpritesData\r\n// 组合管理\r\nexport const group = Groups\r\nexport const getGroup = Groups.getGroup\r\nexport const getGroups = Groups.getGroups\r\nexport const getGroupArrData = Groups.getGroupArrData\r\nexport const clearGroupsData = Groups.clearGroupsData\r\n// 删除元件\r\nexport const delElementData = function (id) {\r\n   if (sps[id]) {\r\n      return sprites.delSpriteData(id)\r\n   } else if (gps[id]) {\r\n      if (Array.isArray(gps[id].components) && gps[id].components.length > 0) {\r\n         gps[id].components.forEach(element => {\r\n            delElementData(element.id)\r\n         })\r\n         if (gps[id].gpid) {\r\n            return Groups.delElement(id)\r\n         } else {\r\n            return modules.delElement(id, gps[id].mid)\r\n         }\r\n      }\r\n   }\r\n}\r\n// 填充数据\r\nexport const fillData = function (data) {\r\n   if (Array.isArray(data) && data.length > 0) {\r\n      data.forEach(_module => {\r\n         // 添加模块基本信息\r\n         if (typeof _module == 'object') {\r\n            let moduleComponents = []\r\n            if (_module.components) {\r\n               moduleComponents = _module.components\r\n               delete _module.components\r\n            }\r\n            // 新模块\r\n            newMouleData(_module)\r\n            // 添加模块内元件\r\n            moduleComponents.forEach(element => {\r\n               if (element.type == 'group') {\r\n                  // 组合处理\r\n                  let groupComponents = []\r\n                  if (element.components) {\r\n                     groupComponents = element.components\r\n                     delete element.components\r\n                  }\r\n                  group.newGroupData(element, _module.id)\r\n                  groupComponents.forEach(sprite => {\r\n                     addSpriteData(sprite, _module.id, sprite.gpid)\r\n                  });\r\n               } else {\r\n                  addSpriteData(element, _module.id)\r\n               }\r\n            })\r\n         }\r\n      })\r\n   } else {\r\n      // 新默认模块\r\n      newMouleData({ id: 'default' })\r\n   }\r\n}\r\n\r\n/**\r\n * 清空数据\r\n */\r\nexport const clearSprites = function () {\r\n   clearSpritesData()\r\n   clearGroupsData()\r\n   clearModulesData()\r\n}","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/**\r\n * app基础布局与组件渲染数据\r\n */\r\nimport { computed, reactive } from 'vue'\r\nimport { nanoid } from 'nanoid'\r\nimport { AppSetup } from '../config'\r\n\r\n// app名称\r\nconst info = reactive({\r\n   title: \"\",\r\n   id: 'A_' + nanoid(10),\r\n   creattime: null,\r\n   uptime: null,\r\n   cover: null,\r\n   description: ''\r\n})\r\n// 尺寸\r\nconst size = reactive({ width: AppSetup.width, height: AppSetup.height })\r\n// 背景\r\nconst background = reactive({\r\n   backgroundColor: AppSetup.backgroundColor\r\n})\r\n// 缩放信息\r\nconst scale = reactive({ value: 1, h: 1, w: 1, mode: AppSetup.scaleMode })\r\n// 样式缩放\r\nconst transform = computed(() => {\r\n   if (AppSetup.scale) {\r\n      if (scale.mode == 'auto') {\r\n         if (scale.w > scale.h) {\r\n            let mvx = size.width * (scale.w - scale.h) / 2 / scale.value;\r\n            return \"scale(\" + scale.value + \")  translateX(\" + mvx + \"px)\"\r\n         } else {\r\n            let mvy = size.height * (scale.h - scale.w) / 2 / scale.value;\r\n            return \"scale(\" + scale.value + \")  translateY(\" + mvy + \"px)\"\r\n         }\r\n      } else if (scale.mode == 'fill') {\r\n         return \"scale(\" + scale.w + \",\" + scale.h + \")\"\r\n      } else {\r\n         return ''\r\n      }\r\n   } else {\r\n      return ''\r\n   }\r\n\r\n})\r\n\r\nconst getDomRect = function (_dom) {\r\n   if (_dom) {\r\n      let dom = _dom\r\n      if (typeof dom == 'string') {\r\n         dom = document.querySelector(AppSetup.dom)\r\n      }\r\n      let rect = dom.getBoundingClientRect()\r\n      if (rect.width > 0 && rect.height > 0) {\r\n         return rect\r\n      } else if (dom.parentElement && dom.parentElement.localName != \"body\") {\r\n         return getDomRect(dom.parentElement)\r\n      } else {\r\n         return {\r\n            width: window.innerWidth,\r\n            height: window.innerHeight\r\n         }\r\n      }\r\n   }\r\n}\r\n// 返回一个根据窗口变化的缩放比\r\nconst getScale = function (_size) {\r\n   let rect = getDomRect(AppSetup.dom) || {\r\n      width: window.innerWidth,\r\n      height: window.innerHeight\r\n   }\r\n   let h = rect.height / _size.height;\r\n   let w = rect.width / _size.width;\r\n   if (h < w) {\r\n      return { value: h, h, w }\r\n   } else {\r\n      return { value: w, h, w }\r\n   }\r\n}\r\n\r\n// 默认远端数据对象\r\nexport const network = reactive({\r\n   host: '',\r\n   method: 'GET',\r\n   headers: {}\r\n})\r\n\r\n// 初始化APP基本参数\r\nexport const initAppData = function (options) {\r\n   if (options.id) {\r\n      info.id = options.id\r\n   } else {\r\n      info.id = 'A_' + nanoid(10)\r\n   }\r\n   // 基本信息\r\n   options.title && (info.title = options.title)\r\n   options.creattime && (info.creattime = options.creattime)\r\n   options.uptime && (info.uptime = options.uptime)\r\n   options.cover && (info.cover = options.cover)\r\n   options.description && (info.description = options.description)\r\n   // 尺寸\r\n   options.width && (size.width = options.width)\r\n   options.height && (size.height = options.height)\r\n   options.scaleMode && (scale.mode = options.scaleMode)\r\n\r\n   Object.assign(scale, getScale(size))\r\n   Object.assign(background, options.background)\r\n   Object.assign(network, options.network)\r\n\r\n   // 窗口变化数据处理\r\n   window.addEventListener('resize', (evt) => {\r\n      Object.assign(scale, getScale(size))\r\n   })\r\n\r\n   return {\r\n      info,\r\n      size,\r\n      scale,\r\n      transform,\r\n      background\r\n   }\r\n}\r\n// 基本样式配置信息\r\nexport const appBase = {\r\n   info,\r\n   size,\r\n   background\r\n}\r\n\r\nexport const resetAppData = function () {\r\n   size.width = AppSetup.width\r\n   size.height = AppSetup.height\r\n   for (const key in background) {\r\n      if (Object.hasOwnProperty.call(background, key)) {\r\n         delete background[key]\r\n      }\r\n   }\r\n   background.backgroundColor = AppSetup.backgroundColor\r\n   scale.mode = AppSetup.scaleMode\r\n   Object.assign(network, {\r\n      host: '',\r\n      method: 'GET',\r\n      headers: {}\r\n   })\r\n   Object.assign(info, {\r\n      title: \"\",\r\n      id: 'A_' + nanoid(10),\r\n      creattime: null,\r\n      uptime: null,\r\n      cover: null,\r\n      description: ''\r\n   })\r\n}\r\n\r\nexport const getAppData = function () {\r\n   return {\r\n      info,\r\n      size,\r\n      scale,\r\n      transform,\r\n      background,\r\n      get network() {\r\n         return network\r\n      }\r\n   }\r\n}","var root = require('./_root');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsFinite = root.isFinite;\n\n/**\n * Checks if `value` is a finite primitive number.\n *\n * **Note:** This method is based on\n * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n * @example\n *\n * _.isFinite(3);\n * // => true\n *\n * _.isFinite(Number.MIN_VALUE);\n * // => true\n *\n * _.isFinite(Infinity);\n * // => false\n *\n * _.isFinite('3');\n * // => false\n */\nfunction isFinite(value) {\n  return typeof value == 'number' && nativeIsFinite(value);\n}\n\nmodule.exports = isFinite;\n","/**\r\n * 获取服务端api接口数据\r\n */\r\n\r\nimport { network } from '../data/AppData'\r\nimport { jsonToParams } from './index'\r\n\r\nlet token = 'token'\r\nlet responseType = 'json'\r\nexport default function (_obj) {\r\n   token = network.token || 'token'\r\n   responseType = network.responseType || 'json'\r\n   // 地址\r\n   let url = /^(?!https?:\\/\\/)/.test(_obj.url) ? network.host + _obj.url : _obj.url\r\n   // 令牌\r\n   let authorization = localStorage.getItem(token) ? { 'Authorization': localStorage.getItem(token) } : {}\r\n   // 完全自定义覆盖\r\n   let customize = _obj.customize || {}\r\n   // 头部信息\r\n   let headers = {\r\n      'Access-Control-Allow-Origin': '*',\r\n      'Content-Type': 'application/json'\r\n   }\r\n   // 如果 headers为'','null',false删除默认配置\r\n   if (!network.headers || (typeof network.headers == 'string' && (network.headers == '' || network.headers == 'null'))) {\r\n      headers = {}\r\n   }\r\n   // 请求对象\r\n   let obj = Object.assign({\r\n      method: _obj.method || network.method,\r\n      mode: network.mode || 'cors',\r\n      signal: _obj.signal,\r\n      headers: new Headers(Object.assign(headers, authorization, _obj.headers))\r\n   }, customize)\r\n   if (obj.method.toUpperCase() == \"POST\") {\r\n      obj.body = (obj.headers.get('Content-Type') == 'application/json') ? JSON.stringify(_obj.data) : _obj.data\r\n   } else {\r\n      url = /\\?/.test(url) ? url + \"&\" + jsonToParams(_obj.data) : url + \"?\" + jsonToParams(_obj.data)\r\n   }\r\n   //    请求数据\r\n   return new Promise((resolve, reject) => {\r\n      fetch(url, obj).then(response => {\r\n         if (responseType) {\r\n            return response[responseType]()\r\n         } else {\r\n            return response.json()\r\n         }\r\n      }, reject).then(resolve);\r\n   })\r\n}","import EventEmitter from 'eventemitter3'\r\nimport request from \"../utils/request\"\r\nimport { nanoid } from 'nanoid'\r\nimport { removeArray } from \"../utils\"\r\n\r\nconst reqs = {}\r\nconst ids = []\r\n\r\nclass RequestData extends EventEmitter {\r\n   constructor(options) {\r\n      super()\r\n      this.id = \"R_\" + nanoid(10)\r\n      this.controller = new AbortController()\r\n      this.signal = this.controller.signal\r\n      this.isloading = false\r\n      this.status = 'wait'\r\n      this.options = options\r\n      this.data = null\r\n      this.err = null\r\n      // this.request()\r\n   }\r\n   //    请求数据\r\n   request(callback) {\r\n      if (this.status == 'request') return;\r\n      this.isloading = true\r\n      this.status = 'request'\r\n      this.emit(\"request\", this)\r\n      request({\r\n         url: this.options.url || \"\",\r\n         data: this.options.body || {},\r\n         method: this.options.method,\r\n         signal: this.signal\r\n      }).then(res => {\r\n         this.data = res\r\n         this.status = 'success'\r\n         this.isloading = false\r\n         this.err = null\r\n         this.emit(\"success\", res)\r\n         callback && callback(this)\r\n      }, err => {\r\n         this.status = 'success'\r\n         this.isloading = false\r\n         this.err = err\r\n         this.emit(\"error\", err)\r\n         callback && callback(this)\r\n      })\r\n   }\r\n   destroy() {\r\n      this.controller && this.controller.abort()\r\n      this.controller = null\r\n      this.signal = null\r\n      this.isloading = null\r\n      this.status = null\r\n      this.options = null\r\n      this.data = null\r\n      this.err = null\r\n      if (reqs[this.id]) {\r\n         removeArray(ids, 'id', this.id)\r\n         delete reqs[this.id]\r\n      }\r\n   }\r\n}\r\n// 添加一个新的请求对象\r\nexport default function (options) {\r\n   let url = options.url || \"\"\r\n   let body = options.body || {}\r\n   let test = (url + JSON.stringify(body)).split(\"\").sort().join(\"\")\r\n   let rid = ids.find(n => n.test == test)\r\n   if (rid && reqs[rid.id]) {\r\n      //    如果当前请求地址和参数相同，返回已有请求对象\r\n      return reqs[rid.id]\r\n   }\r\n   let req = new RequestData(options)\r\n   ids.push({\r\n      id: req.id,\r\n      test\r\n   })\r\n   reqs[req.id] = req\r\n   return reqs[req.id]\r\n}","import EventEmitter from 'eventemitter3'\r\nimport isFinite from 'lodash/isFinite'\r\nimport { reactive, ref, watch } from \"vue\"\r\nimport { AppSetup } from '../config'\r\nimport { extractData } from \"../utils/convert\"\r\nimport { jsonData } from '../utils'\r\nimport interval from '../utils/interval'\r\nimport { nanoid } from 'nanoid'\r\nimport requestData from './requestData'\r\nimport { getBodyData } from '../helper'\r\n\r\n/**\r\n * @param {string} value 接口地址\r\n * @param {object} extractRule 数据提取规则\r\n */\r\nexport default class extends EventEmitter {\r\n   constructor(value, extractRule, body, method, itval) {\r\n      super()\r\n      this.id = \"RD_\" + nanoid(10)\r\n      this.url = value\r\n      this.body = body\r\n      this.method = method\r\n      this.data = reactive({})\r\n      this.sourceData = null\r\n      // 加载状态\r\n      this.loading = ref(false)\r\n      this.isloading = false\r\n      // 是否轮询请求（默认为0，大于0为间隔请求的秒数）\r\n      this.itval = itval || 0\r\n      this.it = null\r\n      // 状态\r\n      this.status = 'wait'\r\n      // 错误信息\r\n      this.err = null\r\n      // 提取规则\r\n      this.extractRule = extractRule ? reactive(extractRule) : reactive({})\r\n      let req = requestData({ url: value, body: getBodyData(body), method })\r\n      req.on('request', () => {\r\n         this.loading.value = true\r\n         this.isloading = true\r\n         this.status = 'request'\r\n      })\r\n      req.on('success', (res) => {\r\n         this.sourceData = res\r\n         this.status = 'success'\r\n         this.loading.value = false\r\n         this.isloading = false\r\n         this.err = null\r\n         this.fillData(res)\r\n         this.emit(\"success\", this)\r\n      })\r\n      req.on('error', (err) => {\r\n         this.status = 'success'\r\n         this.loading.value = false\r\n         this.isloading = false\r\n         this.err = err\r\n         this.emit(\"error\", err)\r\n      })\r\n      this.req = req\r\n      this.unwatch = null\r\n      // 监听规则变化\r\n      this.watchRule()\r\n   }\r\n   watchRule() {\r\n      this.stopWatch()\r\n      // 监听规则变化\r\n      this.watch = watch(this.extractRule, () => {\r\n         this.sourceData && this.fillData(this.sourceData)\r\n      })\r\n      this.sourceData && this.fillData(this.sourceData)\r\n   }\r\n   stopWatch() {\r\n      if (this.unwatch) {\r\n         this.unwatch()\r\n         this.unwatch = null\r\n      }\r\n   }\r\n   setData(info = {}) {\r\n      if (info.url) {\r\n         this.url = info.url\r\n         this.req.options.url = info.url\r\n      }\r\n      if (info.method) {\r\n         this.method = info.method\r\n         this.req.options.method = info.method\r\n      }\r\n      if (info.body) {\r\n         this.body = info.body\r\n         this.req.options.body = getBodyData(info.body)\r\n      }\r\n      if (isFinite(info.itval)) {\r\n         this.itval = info.itval\r\n      }\r\n   }\r\n   // 修改规则\r\n   setExtractRule(extractRule) {\r\n      if ((this.extractRule instanceof Array && extractRule instanceof Array) || (this.extractRule instanceof Object && extractRule instanceof Object && !Array.isArray(this.extractRule) && !Array.isArray(extractRule))) {\r\n         for (const key in this.extractRule) {\r\n            delete this.extractRule[key]\r\n         }\r\n         Object.assign(this.extractRule, extractRule)\r\n      } else {\r\n         this.extractRule = reactive(jsonData(extractRule))\r\n         this.watchRule()\r\n      }\r\n   }\r\n   // 返回规则（返回的是一个非响应式的数据对象）\r\n   getExtractRule() {\r\n      return jsonData(this.extractRule)\r\n   }\r\n   //    请求数据\r\n   request(callback) {\r\n      this.req.request(callback)\r\n      this.setinterval(this.itval)\r\n   }\r\n   // 开启轮询请求\r\n   setinterval(timeval = 0) {\r\n      if (AppSetup.interaction) {\r\n         if (timeval && timeval > 0) {\r\n            this.it = interval.add(() => {\r\n               this.req.request()\r\n            }, timeval * 1000)\r\n         }\r\n      }\r\n   }\r\n   // 关闭轮询请求\r\n   stopInterval() {\r\n      if (this.it) {\r\n         interval.del(this.it)\r\n         this.it = null\r\n      }\r\n   }\r\n   //    清除数据\r\n   clearData() {\r\n      if (this.status == 'request' && this.req.controller) {\r\n         this.req.controller.abort()\r\n      }\r\n      let keys = Object.keys(this.data)\r\n      keys.forEach(key => {\r\n         delete this.data[key]\r\n      });\r\n   }\r\n   /**\r\n    * 填充数据\r\n    * @param {*} data \r\n    */\r\n   fillData(data) {\r\n      // 清除数据\r\n      this.clearData()\r\n      if (this.extractRule && (this.extractRule.x || this.extractRule.name || this.extractRule instanceof Array)) {\r\n         // 如果存在接口数据提取规则，将提取数据后赋值\r\n         Object.assign(this.data, { data: extractData(data, this.extractRule) })\r\n      } else {\r\n         Object.assign(this.data, { data })\r\n      }\r\n   }\r\n   /**\r\n    * 销毁\r\n    */\r\n   destroy() {\r\n      this.req.destroy()\r\n      this.clearData()\r\n      this.stopWatch()\r\n      this.stopInterval()\r\n      this.extractRule = null\r\n   }\r\n}","import RemoteData from \"./RemoteData\";\r\n\r\n/**\r\n * \r\n * @param {string} value 接口地址\r\n * @param {object} extractRule 数据提取规则\r\n * @returns \r\n */\r\nexport default function (value, extractRule, body, method, itval) {\r\n   return new RemoteData(value, extractRule, body, method, itval)\r\n}","import { reactive } from \"vue\";\r\nimport createRemoteData from \"./createRemoteData\";\r\nimport { removeArray } from \"../utils\"\r\nimport isPlainObject from 'lodash/isPlainObject'\r\n\r\n/**\r\n * 远端数据\r\n */\r\nexport const remotes = {}\r\nconst remoteList = reactive([])\r\n\r\n// 创建规则\r\n\r\nexport const createExtractRule = function () {\r\n   return reactive({\r\n      x: {\r\n         name: '',\r\n         path: '',\r\n         mapKey: ''\r\n      },\r\n      y: []\r\n   })\r\n}\r\n//判断是否存在此请求\r\nconst issetApi = function (api) {\r\n   for (let key in remotes) {\r\n      if (remotes[key].url == api) {\r\n         return remotes[key]\r\n      }\r\n   }\r\n   return false\r\n}\r\n// 远程接口列表\r\nexport const getList = function () {\r\n   return remoteList\r\n}\r\n// 添加远程请求api的方法\r\nexport const add = function (value, extractRule = null, body = null, method = null, itval = null) {\r\n   let data = null\r\n   if (isPlainObject(value)) {\r\n      data = createRemoteData(value.url, value.extractRule, value.body, value.method, value.itval)\r\n      value.id && (data.id = value.id)\r\n      remoteList.push(data)\r\n      remotes[data.id] = data\r\n   } else if (typeof value == 'string') {\r\n      if (!remotes[value]) {\r\n         data = createRemoteData(value, extractRule, body, method, itval)\r\n         remoteList.push(data)\r\n         remotes[data.id] = data\r\n      } else {\r\n         return remotes[value]\r\n      }\r\n   }\r\n   return data\r\n}\r\n\r\nconst delRemote = function (id) {\r\n   removeArray(remoteList, 'id', id)\r\n   remotes[id].destroy()\r\n   delete remotes[id]\r\n}\r\n\r\n// 删除api请求对象\r\nexport const del = function (val) {\r\n   if (val) {\r\n      if (remotes[val]) {\r\n         delRemote(val)\r\n      } else {\r\n         for (let key in remotes) {\r\n            if (remotes[key].url == val) {\r\n               delRemote(key)\r\n            }\r\n         }\r\n      }\r\n   } else {\r\n      let keys = Object.keys(remotes)\r\n      keys.forEach(key => {\r\n         delRemote(key)\r\n      })\r\n      remoteList.splice(0, remoteList.length)\r\n   }\r\n}\r\n\r\n// 返回一个远端的数据请求对象\r\nexport const getRemote = function (id) {\r\n   if (remotes[id]) {\r\n      return remotes[id]\r\n   } else {\r\n      for (let key in remotes) {\r\n         if (remotes[key].url == id) {\r\n            return remotes[key]\r\n         }\r\n      }\r\n      return null\r\n   }\r\n}\r\n// 清空数据\r\nexport const clearRemote = function () {\r\n   del()\r\n}\r\n// 请求数据\r\nexport const requestData = function (refresh = false, api = \"\", callback) {\r\n   if (api && remotes[api]) {\r\n      remotes[api].request(callback)\r\n   } else {\r\n      for (let key in remotes) {\r\n         if (remotes[key].status != 'success' || remotes[key].err || refresh) {\r\n            if (api) {\r\n               if (remotes[key].url == api) {\r\n                  remotes[key].request(callback)\r\n                  return\r\n               }\r\n            } else {\r\n               remotes[key].request(callback)\r\n            }\r\n         }\r\n      }\r\n   }\r\n}","import { reactive, ref } from \"vue\"\r\nimport { nanoid } from 'nanoid'\r\nimport * as remote from '../remote'\r\nimport { removeArray } from \"../utils\"\r\nimport isPlainObject from 'lodash/isPlainObject'\r\n\r\n// 数据集合\r\nconst data = {}\r\nconst dataList = reactive([])\r\n\r\nconst initData = function (value = \"\", name = \"\", type = \"source\") {\r\n   return {\r\n      id: \"GD_\" + nanoid(10),\r\n      name,\r\n      type,\r\n      value: (value instanceof Object) ? reactive(value) : ref(value),\r\n      uptime: new Date().getTime()\r\n   }\r\n}\r\n\r\nconst reactiveData = function (obj) {\r\n   return reactive({\r\n      get id() {\r\n         return obj.id || \"\"\r\n      },\r\n      get type() {\r\n         return obj.type || \"\"\r\n      },\r\n      name: obj.name,\r\n      value: obj.value,\r\n      uptime: obj.uptime || ''\r\n   })\r\n}\r\n\r\n// 新增一个数据对象\r\nexport const addGData = function (value, name = \"\", type = \"source\") {\r\n   if (isPlainObject(value) && value.id) {\r\n      // 添加已有数据\r\n      if (!data[value.id]) {\r\n         if (value.type == 'remote') {\r\n            value.value = remote.add(value.value).id\r\n            data[value.id] = reactiveData(value)\r\n         } else {\r\n            data[value.id] = reactiveData(value)\r\n         }\r\n         dataList.push(data[value.id])\r\n         return data[value.id]\r\n      } else {\r\n         return data[value.id]\r\n      }\r\n   } else if (value) {\r\n      // 新建数据并添加\r\n      let newData = {}\r\n      if (type == 'remote') {\r\n         value = remote.add(value).id\r\n         newData = initData(value, name, type)\r\n      } else {\r\n         newData = initData(value, name, type)\r\n      }\r\n      data[newData.id] = reactiveData(newData)\r\n      dataList.push(data[newData.id])\r\n      return data[newData.id]\r\n   } else {\r\n      console.warn('无效全局数据添加')\r\n      return false\r\n   }\r\n}\r\n// 编辑一个数据对象\r\nexport const editGData = function (res, value) {\r\n   let id = null\r\n   if (typeof res == 'string' && isPlainObject(value) && data[res]) {\r\n      id = res\r\n      data[id] = value\r\n   } else if (isPlainObject(res) && typeof res.id == 'string' && data[res.id]) {\r\n      id = res.id\r\n      data[id] = res\r\n   }\r\n   if (id) {\r\n      let index = dataList.findIndex(item => item.id == id)\r\n      if (index > -1) {\r\n         return dataList[index] = data[id]\r\n      }\r\n   }\r\n   return false\r\n}\r\n// 删除一个数据对象\r\nexport const delGData = function (id) {\r\n   if (data[id]) {\r\n      removeArray(dataList, 'id', id)\r\n      delete data[id]\r\n   }\r\n}\r\n\r\n// 返回一个数据对象\r\nexport const getGData = function (id) {\r\n   return data[id] || null\r\n}\r\n\r\n// 返回所有数据列表(数组)\r\nexport const getGDataList = function () {\r\n   return dataList\r\n}\r\n// 清空数据\r\nexport const clearGlobal = function () {\r\n   let keys = Object.keys(data)\r\n   keys.forEach(key => {\r\n      delete data[key]\r\n   });\r\n   dataList.splice(0, dataList.length)\r\n}\r\nexport const GData = data\r\n\r\n// 默认输出完整数据对象\r\nexport default data","import { reactive } from 'vue'\r\nimport { nanoid } from 'nanoid'\r\nimport isPlainObject from 'lodash/isPlainObject'\r\nimport { removeArray } from \"../utils\"\r\n\r\n// 数据集合\r\nconst data = {}\r\nconst dataList = reactive([])\r\n\r\nconst initData = function (option) {\r\n   let _data = Object.assign({\r\n      id: \"PD_\" + nanoid(10),\r\n      uptime: new Date().getTime()\r\n   }, option)\r\n   if (_data.name && !_data.title) {\r\n      _data.title = _data.name\r\n   }\r\n   return reactive(_data)\r\n}\r\n\r\nexport const addPlugin = function (option) {\r\n   if (isPlainObject(option)) {\r\n      if (option.id && data[option.id]) {\r\n         console.warn('插件存在')\r\n         return null\r\n      } else if (option.url) {\r\n         let pulugin = initData(option)\r\n         data[pulugin.id] = pulugin\r\n         dataList.push(pulugin)\r\n         return data[pulugin.id]\r\n      }\r\n   }\r\n   console.warn('插件添加失败', option)\r\n   return null\r\n}\r\nexport const delPlugin = function (id) {\r\n   if (data[id]) {\r\n      removeArray(dataList, 'id', id)\r\n      delete data[id]\r\n   } else if (id) {\r\n      let pulugins = Object.values(data)\r\n      let pulugin = pulugins.find(item => item.url == id)\r\n      if (pulugin) {\r\n         if (data[pulugin.id]) {\r\n            removeArray(dataList, 'id', pulugin.id)\r\n            delete data[pulugin.id]\r\n         }\r\n      }\r\n   }\r\n}\r\n// 返回一个数据对象\r\nexport const getPlugin = function (id) {\r\n   return data[id] || null\r\n}\r\n\r\n// 返回所有数据列表(数组)\r\nexport const getPluginList = function () {\r\n   return dataList\r\n}\r\n// 清空数据\r\nexport const clearPlugin = function () {\r\n   let keys = Object.keys(data)\r\n   keys.forEach(key => {\r\n      delete data[key]\r\n   });\r\n   dataList.splice(0, dataList.length)\r\n}","import * as appData from './AppData'\r\nimport * as spriteData from './SprData'\r\nimport * as actData from './actionData'\r\nimport * as globalData from './GlobalData'\r\nimport * as remote from '../remote'\r\nimport * as plugin from '../plugin'\r\nimport { jsonData, getUrlParam } from '../utils'\r\nimport cmd from '../command'\r\nimport { EVENTS } from '../events'\r\n\r\nexport default function (_data) {\r\n   let data = _data ? jsonData(_data) : {}\r\n   // 清空数据\r\n   spriteData.clearSprites()\r\n   actData.clearAction()\r\n   globalData.clearGlobal()\r\n   remote.clearRemote()\r\n   plugin.clearPlugin()\r\n   // 配置模块与动作\r\n   let modulesData = []\r\n   let actionsData = []\r\n   if (data.modules) {\r\n      modulesData = data.modules\r\n      delete data.modules\r\n   }\r\n   if (data.actions) {\r\n      actionsData = data.actions\r\n      delete data.actions\r\n   }\r\n   // 填充远程接口数据\r\n   if (data.remote && data.remote instanceof Array) {\r\n      data.remote.forEach(element => {\r\n         remote.add(element)\r\n      });\r\n      delete data.remote\r\n   }\r\n   // 填充全局数据\r\n   if (data.globalData) {\r\n      globalData.addGData({\r\n         id: 'GD_query',\r\n         name: 'url参数',\r\n         type: 'temp',\r\n         value: { data: getUrlParam() }\r\n      })\r\n      data.globalData.forEach(element => {\r\n         globalData.addGData(element)\r\n      })\r\n      delete data.globalData\r\n   }\r\n   // 填充插件数据\r\n   if (Array.isArray(data.plugins)) {\r\n      data.plugins.forEach(element => {\r\n         plugin.addPlugin(element)\r\n      })\r\n      delete data.plugins\r\n   }\r\n   // app基础配置\r\n   appData.initAppData(data)\r\n   // 填充模块数据\r\n   spriteData.fillData(modulesData)\r\n   // 添加动作数据\r\n   actionsData.forEach(element => {\r\n      actData.setActionData(element)\r\n   });\r\n   cmd.emit(EVENTS.DATA_LOADED, true)\r\n   // 请求远端数据\r\n   remote.requestData(true)\r\n}","import { nanoid } from 'nanoid'\r\n\r\nexport default function (...override) {\r\n    let time = new Date().getTime()\r\n    let data = {\r\n        id: 'A_' + nanoid(10),\r\n        title: \"\",\r\n        creattime: time,\r\n        uptime: time,\r\n        cover: \"\",\r\n        description: \"\",\r\n        background: { backgroundColor: \"#111111\" },\r\n        width: 1080,\r\n        height: 768,\r\n        scaleMode: 'auto',\r\n        network: {},\r\n        globalData: [],\r\n        modules: [],\r\n        actions: [],\r\n        plugins: [],\r\n        remote: []\r\n    }\r\n    return Object.assign({}, data, ...override)\r\n}","import * as appData from './AppData'\r\nimport * as spriteData from './SprData'\r\nimport * as actData from './actionData'\r\nimport * as globalData from './GlobalData'\r\nimport * as plugin from '../plugin'\r\nimport * as remote from '../remote'\r\nimport initData from './initData'\r\nimport getTemplateData from './getTemplateData'\r\nimport { jsonData } from '../utils'\r\nimport { clear } from '../helper'\r\nexport default {\r\n   getData() {\r\n      let _appData = appData.getAppData()\r\n      let modules = jsonData(spriteData.getModuleList())\r\n      modules.forEach(module => {\r\n         if (module.components && Array.isArray(module.components)) {\r\n            module.components = module.components.map(element => {\r\n               if (element.type == 'group') {\r\n                  let groupData = spriteData.getGroup(element.id)\r\n                  if (groupData.components) {\r\n                     groupData.components = groupData.components.map(sprite => {\r\n                        let sprData = spriteData.getSpriteData(sprite.id)\r\n                        sprData.selected = false\r\n                        return sprData\r\n                     })\r\n                  }\r\n                  groupData.selected = false\r\n                  return groupData\r\n               } else {\r\n                  let sprData = spriteData.getSpriteData(element.id)\r\n                  sprData.selected = false\r\n                  return sprData\r\n               }\r\n            })\r\n         }\r\n      });\r\n      let _globalData = jsonData(globalData.getGDataList())\r\n      _globalData.forEach((element, index) => {\r\n         if (element.type == 'temp') {\r\n            _globalData.splice(index, 1)\r\n         }\r\n      });\r\n      return jsonData({\r\n         id: _appData.info.id,\r\n         title: _appData.info.title,\r\n         creattime: _appData.info.creattime,\r\n         uptime: _appData.info.uptime,\r\n         cover: _appData.info.cover,\r\n         description: _appData.info.description,\r\n         width: _appData.size.width,\r\n         height: _appData.size.height,\r\n         scaleMode: _appData.scale.mode,\r\n         background: _appData.background,\r\n         network: _appData.network,\r\n         globalData: _globalData,\r\n         modules,\r\n         actions: actData.getActionList(),\r\n         plugins: plugin.getPluginList(),\r\n         remote: remote.getList().map(n => {\r\n            return {\r\n               id: n.id,\r\n               url: n.url,\r\n               body: n.body || \"\",\r\n               method: n.method || \"\",\r\n               itval: n.itval || 0,\r\n               extractRule: n.extractRule || \"\"\r\n            }\r\n         })\r\n      })\r\n   },\r\n   init: initData,\r\n   ...appData,\r\n   ...spriteData,\r\n   ...actData,\r\n   ...globalData,\r\n   ...plugin,\r\n   getElement(id) {\r\n      return spriteData.getSpriteData(id) || spriteData.getGroup(id)\r\n   },\r\n   getElements() {\r\n      return [...spriteData.getGroupArrData(), ...spriteData.getSpriteArrData()]\r\n   },\r\n   getTemplateData,\r\n   clearDataAll() {\r\n      // 清空数据\r\n      spriteData.clearSprites()\r\n      actData.clearAction()\r\n      globalData.clearGlobal()\r\n      remote.clearRemote()\r\n      plugin.clearPlugin()\r\n      appData.resetAppData()\r\n      clear()\r\n   }\r\n}","import { getSpriteData } from '../data/SprData'\r\nimport { jsonData } from '../utils/index'\r\nimport TypeModel from '../data/TypeModel'\r\nimport component from '../component'\r\n\r\nconst { events } = TypeModel\r\n\r\n// 创建一个新的事件对象数据\r\nexport const newEventData = function (name, cmpName) {\r\n   let event = events.find(n => n.event == name) || component.getComponentEvents(cmpName).find(n => n.event == name)\r\n   if (event) {\r\n      return jsonData(event)\r\n   } else {\r\n      return false\r\n   }\r\n}\r\n\r\n\r\n/**\r\n * 返回事件信息，eventName不传时返回所有事件列表\r\n * @param {string} id 元件id\r\n * @param {string} eventName 事件类型\r\n * @param {boolean} index 只返回事件所在列表的索引位置\r\n * @returns \r\n */\r\nexport const getEvent = function (id, eventName, index = false) {\r\n   let cmp = getSpriteData(id)\r\n\r\n   if (eventName) {\r\n\r\n      if (index) {\r\n         return cmp['events'] ? cmp['events'].findIndex(n => n.event == eventName) : -1\r\n      } else {\r\n         return cmp['events'] ? cmp['events'].find(n => n.event == eventName) : null\r\n      }\r\n\r\n   } else {\r\n      return cmp['events'] || null\r\n   }\r\n}\r\n\r\n/**\r\n * 为元件添加一个事件\r\n * @param {string} id 元件id\r\n * @param {string} eventName 事件名称 \r\n * @param {string} pams 事件参数 \r\n */\r\nexport const addEvent = function (id, eventName, pams) {\r\n   let event = getEvent(id, eventName)\r\n   if (event) return event\r\n   let cmp = getSpriteData(id)\r\n   let newEvent = newEventData(eventName, cmp.name)\r\n   if (cmp && newEvent) {\r\n      if (!cmp['events']) {\r\n         cmp['events'] = []\r\n      }\r\n      if (pams) {\r\n         newEvent['pams'] = pams\r\n      }\r\n\r\n      cmp['events'].push(newEvent)\r\n      return cmp['events'][cmp['events'].length - 1]\r\n   } else if (!cmp) {\r\n      console.warn('缺少组件数据')\r\n   } else {\r\n      console.warn(eventName + '事件名称不对')\r\n   }\r\n   return null\r\n}\r\n\r\n/**\r\n * 编辑元件事件参数\r\n * @param {string} id 元件id\r\n * @param {string} eventName 事件名称 \r\n * @param {string} pams 事件参数 \r\n */\r\nexport const editEvent = function (id, eventName, pams) {\r\n   let eventIndex = getEvent(id, eventName, true)\r\n   if (eventIndex > -1) {\r\n      let cmp = getSpriteData(id)\r\n      cmp['events'][eventIndex].pams = pams\r\n      return cmp['events'][eventIndex]\r\n   }\r\n   return null\r\n}\r\n/**\r\n * 删除删除某一事件\r\n * @param {*} id 元件id\r\n * @param {*} eventName 事件名称 \r\n */\r\nexport const removeEvent = function (id, eventName) {\r\n   let eventIndex = getEvent(id, eventName, true)\r\n   if (eventIndex > -1) {\r\n      let cmp = getSpriteData(id)\r\n      cmp['events'].splice(eventIndex, 1)\r\n      return cmp['events']\r\n   }\r\n   return null\r\n}","import { getSpriteData, getSpriteArrData } from '../data/SprData'\r\nimport { setActionData, delActionData } from '../data/actionData'\r\nimport TypeModel from '../data/TypeModel'\r\nimport { removeArray } from '../utils/index'\r\n\r\nimport * as HelperEvent from './event';\r\n\r\nlet { actions } = TypeModel\r\n\r\n\r\n/**\r\n * 创建触发的动作\r\n * @param {string} actionName 动作名称\r\n * @param {string} target 目标对象\r\n * @param {string} value 附带参数\r\n */\r\nexport const createActionData = function (actionName, target = \"\", value, description = '') {\r\n   let action = actions.find(n => n.action == actionName)\r\n   if (action) {\r\n      if (action.target == 'component') {\r\n         return setActionData({\r\n            action: action.action,\r\n            target,\r\n            value: (typeof value != 'undefined') ? value : action.value,\r\n            description: description || (action.name + getSpriteData(target).title)\r\n         })\r\n      } else if (action.target == 'url') {\r\n         return setActionData({\r\n            action: action.action,\r\n            target,\r\n            value: (typeof value != 'undefined') ? value : action.value,\r\n            description: description || action.name\r\n         })\r\n      } else {\r\n         return setActionData({\r\n            action: actionName,\r\n            target,\r\n            value,\r\n            description: description || action.name\r\n         })\r\n      }\r\n   } else {\r\n      console.warn(actionName + ' 动作不存在')\r\n      return null\r\n   }\r\n}\r\n// 修改动作数据\r\nexport const editActionData = function (data) {\r\n   if (data.id) {\r\n      return setActionData(data)\r\n   } else {\r\n      console.warn('没有要修改的动作信息')\r\n      return null\r\n   }\r\n}\r\n/**\r\n * 为事件添加一个动作\r\n * @param {string} actionId 动作id\r\n * @param {object|string} target 添加的目标对象，事件的响应对象，元件id \r\n * @param {string} eventName 事件名称，通过元件id添加动作时，必须包含一个事件名称\r\n */\r\nexport const addAction = function (actionId, target, eventName = \"\") {\r\n   if (eventName && typeof target == 'string') {\r\n      let event = HelperEvent.getEvent(target, eventName)\r\n      if (event) {\r\n         if (event.actions.findIndex(n => n == actionId) < 0) {\r\n            event.actions.push(actionId)\r\n         }\r\n      } else {\r\n         console.warn(target + \"中\" + eventName + '事件不存在')\r\n      }\r\n      return event\r\n   } else if (typeof target == 'object' && target.actions && target.actions instanceof Array) {\r\n      target.actions.push(actionId)\r\n      return target\r\n   }\r\n}\r\n/**\r\n * 编辑当前元素向触发的动作传值\r\n * @param {*} actionId \r\n * @param {*} target \r\n * @param {*} eventName \r\n * @param {*} value \r\n */\r\nexport const editAction = function (actionId, target, eventName, value) {\r\n   if (eventName && typeof target == 'string') {\r\n      let event = HelperEvent.getEvent(target, eventName)\r\n      if (event) {\r\n         if (typeof value != 'undefined') {\r\n            if (!event.actionValue) {\r\n               event.actionValue = {}\r\n            }\r\n            event.actionValue[actionId] = value\r\n         }\r\n      } else {\r\n         console.warn(target + \"中\" + eventName + '事件不存在')\r\n      }\r\n      return event\r\n   }\r\n}\r\n/**\r\n * \r\n * @param {string} actionId  动作id\r\n * @param {*} target 目标对象\r\n * @param {*} eventName 事件名称\r\n * @param {*} removeSource 是否删除源头\r\n * @returns \r\n */\r\nexport const removeAction = function (actionId, target, eventName = \"\", removeSource = false) {\r\n   if (eventName && typeof target == 'string') {\r\n      let event = HelperEvent.getEvent(target, eventName)\r\n      if (event) {\r\n         removeArray(event.actions, '', actionId)\r\n      }\r\n      if (removeSource) {\r\n         delActionData(actionId)\r\n      }\r\n      return event\r\n   } else if (typeof target == 'object' && target.actions && target.actions instanceof Array) {\r\n      removeArray(target.actions, '', actionId)\r\n      if (removeSource) {\r\n         delActionData(actionId)\r\n      }\r\n      return target\r\n   }\r\n}\r\n/**\r\n * @param {*} id 目标对象id\r\n * @param {*} event 事件名称\r\n * @returns 获取所有元件的所有动作id信息\r\n */\r\nexport const getSpriteActions = function (id, event) {\r\n   let spriteActions = []\r\n   if (id) {\r\n      let sprite = getSpriteData(id)\r\n      if (Array.isArray(sprite.events)) {\r\n         if (event) {\r\n            let eve = sprite.events.find(item => item.event == event)\r\n            if (eve) {\r\n               spriteActions = eve.actions.map(id => {\r\n                  return {\r\n                     sname: sprite.title,\r\n                     sid: sprite.id,\r\n                     event: eve.event,\r\n                     id\r\n                  }\r\n               })\r\n            }\r\n         } else {\r\n            spriteActions = sprite.events.map(myEvent => {\r\n               if (myEvent.actions) {\r\n                  return myEvent.actions.map(id => {\r\n                     return {\r\n                        sname: sprite.title,\r\n                        sid: sprite.id,\r\n                        event: myEvent.event,\r\n                        id\r\n                     }\r\n                  })\r\n               } else {\r\n                  return []\r\n               }\r\n            }).flat()\r\n         }\r\n      }\r\n   } else {\r\n      spriteActions = getSpriteArrData().map(sprite => {\r\n         if (sprite.events && sprite.events.length > 0) {\r\n            return sprite.events.map(event => {\r\n               if (event.actions) {\r\n                  return event.actions.map(id => {\r\n                     return {\r\n                        sname: sprite.title,\r\n                        sid: sprite.id,\r\n                        event: event.event,\r\n                        id\r\n                     }\r\n                  })\r\n               } else {\r\n                  return []\r\n               }\r\n            }).flat()\r\n         } else {\r\n            return []\r\n         }\r\n      }).flat()\r\n   }\r\n   return spriteActions\r\n}","import { isReactive, ref, watch } from 'vue'\r\nimport isPlainObject from 'lodash/isPlainObject'\r\nimport getValue from 'lodash/get'\r\nimport Data from '@/data'\r\nimport { getSpritesData, addSpriteData, getModuleList, getGroups, getModuleComponents, group } from '@/data/SprData'\r\nimport GData from '@/data/GlobalData'\r\nimport * as remote from '../remote'\r\nimport { jsonData as JD, extractData as ED } from '@/utils'\r\n\r\nexport * from './event';\r\nexport * from './action';\r\n\r\nexport const jsonData = JD\r\nexport const extractData = ED\r\n\r\n\r\nlet filterDatas = {}\r\nlet unwatch = []\r\n\r\n\r\nexport const clear = function () {\r\n   unwatch.forEach(stop => {\r\n      stop()\r\n   })\r\n   unwatch = []\r\n   for (const key in filterDatas) {\r\n      filterDatas[key] = null\r\n   }\r\n   filterDatas = {}\r\n}\r\n\r\n/**\r\n * 根据全局数据对象或远程数据对象放回绑定的数据源\r\n * @param {*} value \r\n * @returns \r\n */\r\nexport const getDataSource = function (value) {\r\n   if (typeof value != 'string') return value\r\n\r\n   if (/^RD_\\S{10}$/.test(value) && remote.remotes[value]) {\r\n      return remote.remotes[value].data\r\n   } else {\r\n      let gdid = value\r\n      let path = null\r\n\r\n      if (/.\\?+./.test(value)) {\r\n         let arr = value.split('?')\r\n         gdid = arr[0]\r\n         path = arr[1]\r\n      }\r\n      if (/(^GD_\\S{10})|(^GD_query)$/.test(gdid) && GData[gdid]) {\r\n         if (GData[gdid].type == 'remote') {\r\n            let _remote = remote.getRemote(GData[gdid].value)\r\n            if (_remote) {\r\n               if (path) {\r\n                  if (!filterDatas[value]) {\r\n                     filterDatas[value] = ref(null)\r\n                     unwatch.push(watch(_remote.data, newData => {\r\n                        filterDatas[value].value = getValue(newData.data || newData, path)\r\n                     }, { immediate: true }))\r\n                  }\r\n                  return filterDatas[value]\r\n               } else {\r\n                  return _remote.data\r\n               }\r\n            } else {\r\n               return null\r\n            }\r\n         } else {\r\n            if (path) {\r\n               return getValue(GData[gdid].value, path)\r\n            } else {\r\n               return GData[gdid].value\r\n            }\r\n         }\r\n      }\r\n   }\r\n   return null\r\n}\r\n/**\r\n * 转换接口传参转换（数组转请求body值）\r\n * @param {Array} data \r\n * @returns \r\n */\r\nexport const getBodyData = function (data) {\r\n   let _o = {}\r\n   if (data && Array.isArray(data)) {\r\n      data.forEach(element => {\r\n         if (isPlainObject(element)) {\r\n            if (typeof element.value == 'string' && element.key) {\r\n               let _val = getDataSource(element.value)\r\n               if (_val) {\r\n                  if (isReactive(_val)) {\r\n                     _o[element.key] = element.path ? getValue(_val.data, element.path) : _val.data\r\n                  } else {\r\n                     _o[element.key] = element.path ? getValue(_val, element.path) : _val\r\n                  }\r\n               } else {\r\n                  _o[element.key] = element.value\r\n               }\r\n            } else if (element.key) {\r\n               _o[element.key] = element.value\r\n            }\r\n         }\r\n      });\r\n   }\r\n   return _o\r\n}\r\n\r\n/**\r\n * 调整元件层级\r\n * @param {string}} spid \r\n * @param {string} level \r\n */\r\nexport const setZindex = function (spid, level = 'up') {\r\n   // 所有舞台元件\r\n   const elements = Data.elements\r\n   // 获取元件的数据对象\r\n   const sprite = Data.getElement(spid)\r\n   if (!sprite) {\r\n      console.warn('元件不存在' + spid)\r\n      return\r\n   } else if (!sprite.mid) {\r\n      console.warn('页面上找不到' + spid)\r\n      return\r\n   }\r\n   // 获取所有元件的zIndex排序\r\n   let sprs = getModuleComponents(sprite.mid).map(item => {\r\n      return {\r\n         id: item.id,\r\n         zIndex: item.zIndex\r\n      }\r\n   }).sort((a, b) => {\r\n      return b.zIndex - a.zIndex\r\n   })\r\n   if (level == 'up') {\r\n      // 层级向上\r\n      let index = sprs.findIndex(n => n.id == spid)\r\n      if (index > 0) {\r\n         let upId = sprs[index - 1].id\r\n         let upzIndex = elements[upId].zIndex\r\n         elements[upId].zIndex = elements[spid].zIndex\r\n         elements[spid].zIndex = upzIndex\r\n\r\n      }\r\n   } else if (level == 'down') {\r\n      // 层级向下\r\n      let index = sprs.findIndex(n => n.id == spid)\r\n      if (index < sprs.length - 1 && index > -1) {\r\n         let upId = sprs[index + 1].id\r\n         let upzIndex = elements[upId].zIndex\r\n         elements[upId].zIndex = elements[spid].zIndex\r\n         elements[spid].zIndex = upzIndex\r\n\r\n      }\r\n   } else if (level == 'top') {\r\n      // 层级置顶\r\n      let index = sprs.findIndex(n => n.id == spid)\r\n      if (index > 0) {\r\n         elements[spid].zIndex = sprs[0].zIndex\r\n         for (let i = 0; i < index; i++) {\r\n            elements[sprs[i].id].zIndex--\r\n         }\r\n      }\r\n   } else if (level == 'bottom') {\r\n      // 层级最底\r\n      let index = sprs.findIndex(n => n.id == spid)\r\n      if (index < sprs.length - 1 && index > -1) {\r\n         elements[spid].zIndex = sprs[sprs.length - 1].zIndex\r\n         for (let i = index + 1, lg = sprs.length; i < lg; i++) {\r\n            elements[sprs[i].id].zIndex++\r\n         }\r\n      }\r\n   }\r\n}\r\n/**\r\n * 复制组件\r\n */\r\nexport const copy = function (sid, option, gpid = null) {\r\n   // 所有舞台元件\r\n   const spritesData = getSpritesData()\r\n   const groupsData = getGroups()\r\n   if (spritesData[sid]) {\r\n      let sprData = jsonData(spritesData[sid])\r\n      sprData.title += \"_c\"\r\n      delete sprData.id\r\n      delete sprData.zIndex\r\n      Object.assign(sprData, option)\r\n      return addSpriteData(sprData, sprData.mid, gpid)\r\n   } else if (groupsData[sid]) {\r\n      let element = jsonData(groupsData[sid])\r\n      element.title += \"_c\"\r\n      delete element.id\r\n      delete element.zIndex\r\n      Object.assign(element, option)\r\n      // 组合处理\r\n      let groupComponents = []\r\n      if (element.components) {\r\n         groupComponents = element.components\r\n         delete element.components\r\n      }\r\n      let newGroup = group.newGroupData(element, element.mid)\r\n      groupComponents.forEach(sprite => {\r\n         copy(sprite.id, { gpid: newGroup.id }, newGroup.id)\r\n      })\r\n      return newGroup\r\n   }\r\n}\r\n\r\n/**\r\n * 切换模块\r\n * @param {*} id 需要显示的模块id\r\n * @param {*} ids 跳过不处理的id数组\r\n */\r\nexport const changeModuleShow = function (id, ids) {\r\n   getModuleList().forEach(element => {\r\n      if (ids) {\r\n         if (typeof ids == 'string') {\r\n            if (element.id == ids) return\r\n         } else if (ids instanceof Array) {\r\n            if (ids.find(myid => myid == element.id)) return\r\n         }\r\n      }\r\n      if (element.type != 'fixed') {\r\n         if (element.id == id) {\r\n            element.visible = true\r\n         } else {\r\n            element.visible = false\r\n         }\r\n      }\r\n   });\r\n}","import { h, isReactive, resolveComponent } from 'vue'\r\nimport creatEvent from './creatEvent'\r\nimport { getSpriteData, getGroup } from '../data/SprData'\r\nimport { getDataSource } from '../helper'\r\nimport { AppSetup } from '../config'\r\n\r\n/**\r\n * 创建组件\r\n * @param {String} componentName 组件名称\r\n * @param {String|Object} pams 元件id或组件props\r\n * @param {String|Object} coms 用到插槽的内容\r\n * @returns \r\n */\r\nexport default function (componentName, pams, coms = \"\") {\r\n   let component = null;\r\n   if (!componentName) {\r\n      console.warn('数据缺少组件' + pams);\r\n      component = \"div\";\r\n   } else {\r\n      component = resolveComponent(componentName);\r\n      if (component == componentName) {\r\n         console.warn(component + '组件没有找到');\r\n         component = \"div\";\r\n      }\r\n   }\r\n   if (typeof pams == 'string') {\r\n      // 如果是元件id\r\n      const spriteData = getSpriteData(pams) || getGroup(pams)\r\n      if (!spriteData) { return }\r\n      let props = { ...spriteData, key: pams }\r\n      if (spriteData.id) {\r\n         // 绑定事件\r\n         Object.assign(props, creatEvent(spriteData.events || [], spriteData, componentName))\r\n      }\r\n      // 删除组件定义相关信息\r\n      if (props['name']) delete props['name']\r\n      if (props['mid']) delete props['mid']\r\n      if (props['anim'] && props['anim'].name && AppSetup.interaction) {\r\n         props['class'] = props['anim'].name\r\n      } else if (typeof props['anim'] == 'string') {\r\n         delete props['anim']\r\n      }\r\n      if (props['data']) {\r\n         let _data = getDataSource(props['data'])\r\n         if (_data) {\r\n            if (isReactive(_data)) {\r\n               props['data'] = _data.data || _data\r\n            } else {\r\n               props['data'] = _data\r\n            }\r\n         }\r\n      }\r\n\r\n      return h(component, props)\r\n   } else if (typeof pams != 'undefined') {\r\n      // 如果是模块或组合\r\n      let props = { ...pams };\r\n      if (pams.events || pams.type == 'group') {\r\n         Object.assign(props, creatEvent(pams.events || [], pams, componentName))\r\n      }\r\n      props['ref'] = props.id\r\n      // 删除组件定义相关信息\r\n      if (props['name']) delete props['name']\r\n      if (props['mid']) delete props['mid']\r\n\r\n      return h(component, props, coms)\r\n   } else {\r\n      // 无信息返回组件\r\n      return h(component, {}, \"\")\r\n   }\r\n}","import { h, onMounted, reactive, isVNode, watch } from 'vue'\r\nimport createSprite from './createSprite'\r\nimport myData from '../data'\r\nimport { jsonData } from '../utils'\r\nimport { EVENTS } from '../events'\r\nimport cmd from '../command'\r\nexport default {\r\n   name: 'stage',\r\n   props: {\r\n      background: {\r\n         type: Object,\r\n         default() {\r\n            return {}\r\n         }\r\n      },\r\n      content: {\r\n         type: Object,\r\n         default() {\r\n            return {}\r\n         }\r\n      },\r\n      fixed: {\r\n         type: Object,\r\n         default() {\r\n            return {}\r\n         }\r\n      },\r\n      overlayer: {\r\n         type: Object,\r\n         default() {\r\n            return {}\r\n         }\r\n      },\r\n      popwin: {\r\n         type: Object,\r\n         default() {\r\n            return {}\r\n         }\r\n      },\r\n      slots: [Object, Array]\r\n   },\r\n   setup(props) {\r\n      const modules = myData.getModules()\r\n      const appData = myData.getAppData()\r\n      const pages = reactive({})\r\n      const slots = isVNode(props.slots) ? [props.slots] : []\r\n      if (slots.length == 0) {\r\n         if (Array.isArray(props.slots)) {\r\n            props.slots.forEach(element => {\r\n               slots.push(h(element))\r\n            })\r\n         } else if (props.slots) {\r\n            slots.push(h(props.slots))\r\n         }\r\n      }\r\n\r\n      watch(modules, newPages => {\r\n         Object.assign(pages, JSON.parse(JSON.stringify(newPages)))\r\n      }, { deep: true })\r\n\r\n      onMounted(() => {\r\n         cmd.emit(EVENTS.STAGE_MOUNTED)\r\n      })\r\n      return () => {\r\n         // 舞台内容分层显示容器组件\r\n         var containerList = []\r\n         // 主内容层\r\n         const content = []\r\n         // 固定内容\r\n         const fixed = []\r\n         // 弹层\r\n         const overlayer = []\r\n         // 遍历模块数据\r\n         for (const key in pages) {\r\n            if (pages.hasOwnProperty.call(pages, key)) {\r\n               const item = pages[key];\r\n               if (typeof item.visible == 'undefined' || item.visible == true) {\r\n                  if (item.type == 'content') {\r\n                     content.push(item)\r\n                  } else if (item.type == 'fixed') {\r\n                     fixed.push(item)\r\n                  } else if (item.type == 'overlayer') {\r\n                     overlayer.push(item)\r\n                  }\r\n               }\r\n            }\r\n         }\r\n         containerList.push(createSprite('vx-background', props.background), ...slots)\r\n         if (content.length > 0) {\r\n            containerList.push(createSprite('vx-content', { modules: content }))\r\n         }\r\n         if (fixed.length > 0) {\r\n            containerList.push(createSprite('vx-fixed', { modules: fixed }))\r\n         }\r\n         if (overlayer.length > 0) {\r\n            containerList.unshift(createSprite('vx-mask'))\r\n            containerList.push(createSprite('vx-overlayer', { modules: overlayer }))\r\n         }\r\n\r\n         // 用户自定义弹层窗口\r\n         containerList.push(createSprite('vx-popwin', props.popwin))\r\n         // 消息提醒弹层\r\n         containerList.push(createSprite('vx-message'))\r\n\r\n         let style = {\r\n            position: 'absolute',\r\n            width: appData.size.width ? appData.size.width + \"px\" : \"100%\",\r\n            height: appData.size.height ? appData.size.height + \"px\" : \"100%\",\r\n            top: 0,\r\n            left: 0,\r\n            transformOrigin: \"0 0\",\r\n            transform: appData.transform.value,\r\n            zIndex: 0,\r\n            userSelect: 'none',\r\n            ...jsonData(appData.background)\r\n         }\r\n         return h('div', {\r\n            id: \"vx-stage\",\r\n            style,\r\n            onclick(event) {\r\n               cmd.emit(EVENTS.CLICK_STAGE, event)\r\n            }\r\n         }, containerList)\r\n      }\r\n   }\r\n}","import { h, toRefs } from 'vue'\r\nimport createSprite from '../createSprite'\r\nexport default {\r\n   name: 'vx-module',\r\n   props: ['components'],\r\n   setup(props) {\r\n      const { components } = toRefs(props)\r\n      return (context) => {\r\n         // 组件内容\r\n         const containerList = []\r\n         // 遍历模块数据\r\n         if (components.value) {\r\n            components.value.forEach((item, i) => {\r\n               if (item.visible) {\r\n                  if (item.type == 'group') {\r\n                     containerList.push(createSprite('vx-sprite-group', item.id))\r\n                  } else {\r\n                     containerList.push(createSprite(item.name, item.id))\r\n                  }\r\n               }\r\n            })\r\n         }\r\n         return h('div', {\r\n            id: context.id,\r\n            style: context.style,\r\n         }, containerList)\r\n      }\r\n   }\r\n}","import { h } from 'vue'\r\nimport createSprite from '../createSprite'\r\nexport default {\r\n   name: 'vx-plane',\r\n   props: ['components'],\r\n   setup() {\r\n      return (context) => {\r\n         // 组件内容\r\n         const containerList = [];\r\n\r\n         // 遍历模块数据\r\n         if (context.components) {\r\n            context.components.forEach((item, i) => {\r\n               if (item.visible) {\r\n                  containerList.push(createSprite(item.name, item.id))\r\n               }\r\n            })\r\n         }\r\n         return h('div', {\r\n            id: context.id,\r\n            style: context.style,\r\n         }, containerList)\r\n      }\r\n   }\r\n}","import { h } from 'vue'\r\n\r\nexport default {\r\n   name: 'vx-popwin',\r\n   render() {\r\n      let style = {\r\n         position: 'absolute',\r\n         width: \"100%\",\r\n         zIndex: 50000\r\n      }\r\n      return h('div', {\r\n         id: \"vx-popwin\",\r\n         style,\r\n      })\r\n   }\r\n}","import { h } from 'vue'\r\nimport createSprite from '../createSprite'\r\n\r\nlet style = {\r\n   position: 'absolute',\r\n   width: \"auto\",\r\n   height: \"auto\",\r\n   top: 0,\r\n   left: 0,\r\n   zIndex: 10000\r\n}\r\nexport default {\r\n   name: 'vx-content',\r\n   props: ['modules'],\r\n   setup(props) {\r\n      return () => {\r\n         const modules = props.modules\r\n         const content = [];\r\n         for (const key in modules) {\r\n            if (modules.hasOwnProperty.call(modules, key)) {\r\n               const item = modules[key];\r\n               if (typeof item.visible == 'undefined' || item.visible == true) {\r\n                  content.push(createSprite('vx-module', item))\r\n               }\r\n            }\r\n         }\r\n         return h('div', {\r\n            id: \"vx-content\",\r\n            style,\r\n         }, content)\r\n      }\r\n   }\r\n}","import { h } from 'vue'\r\nimport createSprite from '../createSprite'\r\n\r\nlet style = {\r\n   position: 'absolute',\r\n   width: \"100%\",\r\n   top: 0,\r\n   left: 0,\r\n   zIndex: 20000\r\n}\r\nexport default {\r\n   name: 'vx-fixed',\r\n   props: ['modules'],\r\n   setup(props) {\r\n      return () => {\r\n         const modules = props.modules\r\n         const content = [];\r\n         for (const key in modules) {\r\n            if (modules.hasOwnProperty.call(modules, key)) {\r\n               const item = modules[key];\r\n               if (typeof item.visible == 'undefined' || item.visible == true) {\r\n                  content.push(createSprite('vx-module', item))\r\n               }\r\n            }\r\n         }\r\n         return h('div', {\r\n            id: \"vx-fixed\",\r\n            style,\r\n         }, content)\r\n      }\r\n   }\r\n}","import { h } from 'vue'\r\nimport createSprite from '../createSprite'\r\n\r\nlet style = {\r\n   position: 'absolute',\r\n   width: \"100%\",\r\n   height: \"100%\",\r\n   top: 0,\r\n   left: 0,\r\n   zIndex: 40000\r\n}\r\nexport default {\r\n   name: 'vx-overlayer',\r\n   props: ['modules'],\r\n   setup(props) {\r\n      return () => {\r\n         const modules = props.modules\r\n         const content = [];\r\n         for (const key in modules) {\r\n            if (modules.hasOwnProperty.call(modules, key)) {\r\n               const item = modules[key];\r\n               if (typeof item.visible == 'undefined' || item.visible == true) {\r\n                  content.push(createSprite('vx-module', item))\r\n               }\r\n            }\r\n         }\r\n         return h('div', {\r\n            id: \"vx-overlayer\",\r\n            style,\r\n         }, content)\r\n      }\r\n   }\r\n}","import { h, reactive } from 'vue'\r\nimport cmd from '../../command'\r\n\r\nlet style = {\r\n   position: 'absolute',\r\n   width: \"100%\",\r\n   top: 0,\r\n   left: 0,\r\n   zIndex: 99999999\r\n}\r\nlet itemStyle = {\r\n   width: '60%',\r\n   lineHeight: '18px',\r\n   borderRadius: '6px',\r\n   backgroundColor: 'rgba(255, 240, 0, 0.66)',\r\n   textAlign: 'center',\r\n   padding: '8px 5px',\r\n   margin: '5px auto',\r\n   boxShadow: '1px 1px 1px #00000022',\r\n   fontSize: '14px',\r\n   animation:'0.4s ease 0s 1 normal none running vx_enter'\r\n}\r\nexport default {\r\n   name: 'vx-message',\r\n   setup() {\r\n      const items = reactive([])\r\n      // 添加消息事件\r\n      cmd.addEventListener('message-send', res => {\r\n         if (items.length == 0) {\r\n            deleteItem();\r\n         }\r\n         items.push(res);\r\n      })\r\n      const deleteItem = function () {\r\n         setTimeout(() => {\r\n            if (items.length > 0) {\r\n               items.splice(0, 1);\r\n               if (items.length > 0) {\r\n                  deleteItem()\r\n               }\r\n            }\r\n         }, 3000);\r\n      }\r\n      return () => {\r\n         if (items.length > 0) {\r\n            return h('div', {\r\n               id: \"vx-message\",\r\n               style\r\n            }, items.map((item) => {\r\n               return h('div', { class: 'message_item', style: itemStyle }, item)\r\n            }))\r\n         } else {\r\n            return h('div', {\r\n               id: \"vx-message\",\r\n               style\r\n            })\r\n         }\r\n      }\r\n   }\r\n}","import { h } from 'vue'\r\n\r\nexport default {\r\n   name: 'vx-mask',\r\n   render() {\r\n      let style = {\r\n         position: 'absolute',\r\n         width: \"100%\",\r\n         height: \"100%\",\r\n         top: 0,\r\n         left: 0,\r\n         backgroundColor: \"rgba(0, 0, 0, .8)\",\r\n         zIndex: 30000\r\n      }\r\n      return h('div', {\r\n         id: \"vx-mask\",\r\n         style,\r\n         onClick: $event => {\r\n            \r\n         }\r\n      })\r\n   }\r\n}","import { h } from 'vue'\r\nimport CMD from '../../command'\r\nimport { EVENTS } from '../../events'\r\n\r\nlet style = {\r\n   position: 'absolute',\r\n   width: \"100%\",\r\n   height: \"100%\",\r\n   top: 0,\r\n   left: 0,\r\n   backgroundColor: \"rgba(0, 0, 0, 0)\",\r\n   zIndex: 1\r\n}\r\nexport default {\r\n   name: 'vx-background',\r\n   setup(props) {\r\n      return () => {\r\n         let myStyle = Object.assign({}, style, props.style)\r\n         return h('div', {\r\n            id: \"vx-background\",\r\n            style: myStyle,\r\n            onmousedown: $event => {\r\n               CMD.emit(EVENTS.MOUSEDOWN_BACKGROUND, $event)\r\n            },\r\n            onmouseup: $event => {\r\n               CMD.emit(EVENTS.MOUSEUP_BACKGROUND, $event)\r\n            },\r\n            onclick: $event => {\r\n               CMD.emit(EVENTS.CLICK_BACKGROUND, $event)\r\n            }\r\n         })\r\n      }\r\n   }\r\n}","import { provide, h, toRefs } from 'vue'\r\nimport createSprite from '../createSprite'\r\n// 原件组合容器\r\nexport default {\r\n   name: 'vx-sprite-group',\r\n   props: {\r\n      components: {\r\n         type: Array,\r\n         default () {\r\n            return []\r\n         }\r\n      }\r\n   },\r\n   setup(props) {\r\n      const { x, y, id } = toRefs(props)\r\n      provide('offsetX', x)\r\n      provide('offsetY', y)\r\n      // offset\r\n      return (ctx) => {\r\n         // 组件内容\r\n         const containerList = [];\r\n         // 遍历模块数据\r\n         if (ctx.components) {\r\n            ctx.components.forEach((item, i) => {\r\n               if (item.visible) {\r\n                  containerList.push(createSprite(item.name, item.id))\r\n               }\r\n            })\r\n         }\r\n         let myClass = ['element_sprite', { 'element_selected': ctx.selected }, { 'element_hover': ctx.hover }]\r\n\r\n         return h('div', { id: id.value, style: ctx.style, class: myClass }, containerList)\r\n      }\r\n   }\r\n}","import { h, toRefs } from 'vue'\r\nexport default {\r\n   name: 'vx-sprite',\r\n   setup(props, context) {\r\n      const { id } = toRefs(props)\r\n      return (ctx) => {\r\n         let slot = \"\"\r\n         if (typeof context.slots.default == 'function') {\r\n            slot = context.slots.default()\r\n         }\r\n         let myClass = ['element_sprite', { 'element_selected': ctx.$parent.selected }, { 'element_hover': ctx.$parent.hover }]\r\n\r\n         if (ctx.$parent.gpid) {\r\n            myClass = ['element_sprite']\r\n         }\r\n         return h('div', { id: id.value || ctx.$parent.id, style: ctx.$parent.style, class: myClass }, slot)\r\n      }\r\n   }\r\n}","import Module from './coms/Module'\r\nimport Plane from './coms/Plane'\r\nimport Popwin from './coms/Popwin'\r\nimport Content from './coms/Content'\r\nimport ContentFixed from './coms/ContentFixed'\r\nimport Overlayer from './coms/Overlayer'\r\nimport Message from './coms/Message'\r\nimport Mask from './coms/Mask'\r\nimport Background from './coms/Background'\r\nimport SpriteGroup from './coms/SpriteGroup'\r\nimport SpriteObject from './coms/SpriteObject'\r\n\r\n/**\r\n * 舞台内容的组成部分\r\n * 包括\r\n * state 舞台\r\n * background 舞台背景\r\n * content 舞台基本内容\r\n * module 组件分组模块\r\n * overlayer 舞台模块弹窗内容\r\n * popwin 用户弹窗\r\n * mask 弹层下的透明黑遮罩层\r\n * message 消息窗口\r\n */\r\n\r\nconst coms = [Module, Plane, Popwin, Overlayer, Content, ContentFixed, Message, Mask, Background, SpriteGroup, SpriteObject]\r\n\r\nexport default {\r\n   install: (app) => {\r\n      coms.forEach(item => {\r\n         app.component(item.name, item)\r\n      })\r\n   }\r\n}","import * as vue from 'vue'\r\nimport { createApp } from 'vue'\r\nimport Stage from './display/stage'\r\nimport Display from './display'\r\nimport baseMixin from './component/baseMixin'\r\nimport { AppSetup } from './config'\r\n\r\nif (window && typeof window.Vue == 'undefined') {\r\n   window.Vue = vue\r\n}\r\n// 应用\r\nvar myapp = null\r\n// 创建应用舞台方法\r\nexport const createMyApp = function (props = {}) {\r\n   if (!myapp) {\r\n      myapp = createApp(Stage, props)\r\n      // 安装内部默认组件\r\n      myapp.use(Display)\r\n      // 全局混入\r\n      myapp.mixin(baseMixin)\r\n      // 应用状态设置\r\n      AppSetup.status = \"create\"\r\n      if (window) {\r\n         window.myapp = myapp\r\n      }\r\n      console.log('%c灿create', 'color:#0aa100')\r\n      return true\r\n   } else {\r\n      return false\r\n   }\r\n}\r\n// 显示应用舞台\r\nexport const displayMyApp = function () {\r\n   if (myapp) {\r\n      let dom = AppSetup.dom\r\n      if ((typeof dom == 'string' && document.querySelector(dom)) || dom instanceof HTMLElement) {\r\n         myapp.mount(dom)\r\n         AppSetup.status = \"display\"\r\n         console.log('%c灿display', 'color:#0aa100')\r\n         return true\r\n      } else {\r\n         console.error(dom + '错误')\r\n         return false\r\n      }\r\n   } else {\r\n      console.warn('app没有创建')\r\n      return false\r\n   }\r\n}\r\n// 销毁应用舞台方法\r\nexport const destroyMyApp = function () {\r\n   if (myapp) {\r\n      myapp.unmount()\r\n      myapp = null\r\n      // 更改状态\r\n      AppSetup.status = \"remove\"\r\n      console.log('%c灿remove', 'color:#0aa100')\r\n   }\r\n}\r\nexport const initSet = function (options) {\r\n   options && Object.assign(AppSetup, options)\r\n   return AppSetup\r\n}\r\nexport const getMyApp = function () {\r\n   return myapp\r\n}\r\nexport default {\r\n   appSetup: AppSetup,\r\n   get vm() {\r\n      return myapp\r\n   }\r\n}","/**\r\n * 动作处理\r\n */\r\nexport default {\r\n   // 更新元件原始数据\r\n   reviewData(target, data) {\r\n      if (data && data.id) {\r\n         console.warn(data.id + '不能替换')\r\n         return\r\n      }\r\n      Object.assign(target, data)\r\n   },\r\n   // 显示元件\r\n   show(target, value) {\r\n      if (!target) return\r\n      if (Array.isArray(target)) {\r\n         target.forEach(element => {\r\n            element.visible = value\r\n         })\r\n      } else {\r\n         target.visible = value\r\n      }\r\n   },\r\n   // 切换显示\r\n   toggle(target) {\r\n      if (!target) return\r\n      if (Array.isArray(target)) {\r\n         target.forEach(element => {\r\n            element.visible = !element.visible\r\n         })\r\n      } else {\r\n         target.visible = !target.visible\r\n      }\r\n   },\r\n   // 更新元件传递数据\r\n   sendData(target, value) {\r\n      if (!target) return\r\n      if (Array.isArray(target)) {\r\n         target.forEach(element => {\r\n            element.data = value\r\n         })\r\n      } else {\r\n         target.data = value\r\n      }\r\n   },\r\n   // 链接跳转\r\n   href(url, target = \"_blank\") {\r\n      if (!url) return;\r\n      if (target == 'a') {\r\n         window.location.href = url;\r\n      } else {\r\n         window.open(url, target);\r\n      }\r\n   },\r\n   // 模块切换显示\r\n   singleModule(modules, mid) {\r\n      modules.filter(item => item.type == 'content').forEach(element => {\r\n         if (element.id == mid) {\r\n            element.visible = true\r\n         } else {\r\n            element.visible = false\r\n         }\r\n      })\r\n   },\r\n   // 开关弹窗页面\r\n   popup(module, value) {\r\n      if (module && module.type == 'overlayer') {\r\n         if (typeof value == 'boolean') {\r\n            module.visible = value\r\n         } else {\r\n            module.visible = !module.visible\r\n         }\r\n      }\r\n      return module\r\n   }\r\n}","import actions from './actions'\r\nimport Data from '../data'\r\nimport TypeModel from '../data/TypeModel'\r\nimport { CEVENTS } from '../events'\r\n\r\n\r\nconst uses = {}\r\n\r\nconst ActionTypes = TypeModel.actions\r\n/**\r\n * 执行动作\r\n * @param {*} action 动作\r\n * @param {*} target 目标\r\n * @param {*} value 参数\r\n */\r\nconst executeAction = function (action, target, value) {\r\n   if (actions[action]) {\r\n      // 获取动作类型\r\n      let actionType = ActionTypes.find(n => n.action == action)\r\n      if (actionType) {\r\n         // 类型存在\r\n         let targetData = {}\r\n         if (actionType.target == 'component' || actionType.target == 'components') {\r\n            // 获取元件数据\r\n            if (target instanceof Array) {\r\n               targetData = []\r\n               target.forEach(element => {\r\n                  targetData.push(Data.getElement(element))\r\n               });\r\n            } else if (target) {\r\n               targetData = Data.getElement(target)\r\n            }\r\n         } else if (actionType.target == 'app') {\r\n            // 获取应用数据\r\n            targetData = Data.getAppData()\r\n         } else if (actionType.target == 'url') {\r\n            // 一个打开外部链接动作\r\n            targetData = target\r\n         } else if (actionType.target == 'modules') {\r\n            // 所有模块\r\n            targetData = Data.getModuleList()\r\n         } else if (actionType.target == 'module') {\r\n            // 目标模块\r\n            targetData = Data.getModule(target)\r\n         }\r\n         // 执行动作\r\n         actions[action].call(actionType, targetData, value);\r\n      } else {\r\n         let myTargetData = Data.getElement(target) || Data.getModule(target)\r\n         myTargetData && (targetData = myTargetData)\r\n         // 执行动作\r\n         actions[action].call({}, targetData, value);\r\n      }\r\n   } else {\r\n      console.warn(item.action + '动作不存在')\r\n   }\r\n}\r\n\r\n\r\n// 动作方法处理\r\nexport default {\r\n   // 元件动作\r\n   [CEVENTS.ACTION](res) {\r\n      if (res.data) {\r\n         if (res.data instanceof Array) {\r\n            // 如果是一个数组\r\n            res.data.forEach(item => {\r\n               executeAction(item.action, item.target, item.value)\r\n            });\r\n         } else if (res.data instanceof Object && typeof res.data != 'function') {\r\n            // 如果是单个动作对象\r\n            executeAction(res.data.action, res.data.target, res.data.value)\r\n         }\r\n      }\r\n   },\r\n   // 应用动作\r\n   [CEVENTS.APP_ACTION](res) {},\r\n   // 添加一个动作\r\n   useAction(_config) {\r\n      let config = {\r\n         name: _config.name || '无名动作',\r\n         action: _config.action || null,\r\n         target: _config.target || 'component',\r\n         valueType: _config.valueType || null,\r\n         value: _config.value || \"\"\r\n      }\r\n      if (ActionTypes.find(n => n.action == config.action)) {\r\n         console.warn(_config, \"已存在\")\r\n      } else if (config.action && _config.handle) {\r\n         if (actions[config.action]) {\r\n            console.warn(config.action + \"动作已存在\")\r\n         } else {\r\n            // 添加动作\r\n            ActionTypes.push(config)\r\n            actions[config.action] = _config.handle\r\n            uses[config.action] = config\r\n         }\r\n      } else if (!config.action) {\r\n         console.warn(_config, \"缺少action名称\")\r\n      } else {\r\n         console.warn(_config, \"缺少动作方法函数\")\r\n      }\r\n   },\r\n   remove(action) {\r\n      if (uses[action]) {\r\n         let index = ActionTypes.findIndex(n => n.action == action)\r\n         if (index > -1) {\r\n            ActionTypes.splice(index, 1)\r\n         }\r\n         delete actions[action]\r\n         delete uses[action]\r\n      }\r\n   },\r\n   removeAll() {\r\n      let keys = Object.keys(uses)\r\n      keys.forEach(element => {\r\n         this.remove(element)\r\n      })\r\n   }\r\n}","import CMD from '../command'\r\nimport { CEVENTS } from '../events'\r\nimport controller from './controller'\r\n/**\r\n * 将相关事件与动作绑定\r\n * 控制中心的任务是将个动作方法注册到事件中心，通过事件来触发动作命令\r\n * CEVENTS是一个事件触发类型常量\r\n * controller包含了根据相关事件对应的方法内处理的动作\r\n */\r\nfor (const key in CEVENTS) {\r\n   let event = CEVENTS[key]\r\n   CMD.addEventListener(event, controller[event], controller)\r\n}\r\nexport default controller","/**\r\n * Global dependencies.\r\n * @global {Object} document - DOM\r\n */\r\n\r\nvar devnull = function () {},\r\n   bundleIdCache = {},\r\n   bundleResultCache = {},\r\n   bundleCallbackQueue = {};\r\n\r\n\r\n/**\r\n * Subscribe to bundle load event.\r\n * @param {string[]} bundleIds - Bundle ids\r\n * @param {Function} callbackFn - The callback function\r\n */\r\nfunction subscribe(bundleIds, callbackFn) {\r\n   // listify\r\n   bundleIds = bundleIds.push ? bundleIds : [bundleIds];\r\n\r\n   var depsNotFound = [],\r\n      i = bundleIds.length,\r\n      numWaiting = i,\r\n      fn,\r\n      bundleId,\r\n      r,\r\n      q;\r\n\r\n   // define callback function\r\n   fn = function (bundleId, pathsNotFound) {\r\n      if (pathsNotFound.length) depsNotFound.push(bundleId);\r\n\r\n      numWaiting--;\r\n      if (!numWaiting) callbackFn(depsNotFound);\r\n   };\r\n\r\n   // register callback\r\n   while (i--) {\r\n      bundleId = bundleIds[i];\r\n\r\n      // execute callback if in result cache\r\n      r = bundleResultCache[bundleId];\r\n      if (r) {\r\n         fn(bundleId, r);\r\n         continue;\r\n      }\r\n\r\n      // add to callback queue\r\n      q = bundleCallbackQueue[bundleId] = bundleCallbackQueue[bundleId] || [];\r\n      q.push(fn);\r\n   }\r\n}\r\n\r\n\r\n/**\r\n * Publish bundle load event.\r\n * @param {string} bundleId - Bundle id\r\n * @param {string[]} pathsNotFound - List of files not found\r\n */\r\nfunction publish(bundleId, pathsNotFound) {\r\n   // exit if id isn't defined\r\n   if (!bundleId) return;\r\n\r\n   var q = bundleCallbackQueue[bundleId];\r\n\r\n   // cache result\r\n   bundleResultCache[bundleId] = pathsNotFound;\r\n\r\n   // exit if queue is empty\r\n   if (!q) return;\r\n\r\n   // empty callback queue\r\n   while (q.length) {\r\n      q[0](bundleId, pathsNotFound);\r\n      q.splice(0, 1);\r\n   }\r\n}\r\n\r\n\r\n/**\r\n * Execute callbacks.\r\n * @param {Object or Function} args - The callback args\r\n * @param {string[]} depsNotFound - List of dependencies not found\r\n */\r\nfunction executeCallbacks(args, depsNotFound) {\r\n   // accept function as argument\r\n   if (args.call) args = { success: args };\r\n\r\n   // success and error callbacks\r\n   if (depsNotFound.length)(args.error || devnull)(depsNotFound);\r\n   else(args.success || devnull)(args);\r\n}\r\n\r\n\r\n/**\r\n * Load individual file.\r\n * @param {string} path - The file path\r\n * @param {Function} callbackFn - The callback function\r\n */\r\nfunction loadFile(path, callbackFn, args, numTries) {\r\n   var doc = document,\r\n      async = args.async,\r\n         maxTries = (args.numRetries || 0) + 1,\r\n         beforeCallbackFn = args.before || devnull,\r\n         pathname = path.replace(/[\\?|#].*$/, ''),\r\n         pathStripped = path.replace(/^(css|img|module|nomodule)!/, ''),\r\n         isLegacyIECss,\r\n         hasModuleSupport,\r\n         e;\r\n\r\n   numTries = numTries || 0;\r\n\r\n   if (/(^css!|\\.css$)/.test(pathname)) {\r\n      // css\r\n      e = doc.createElement('link');\r\n      e.rel = 'stylesheet';\r\n      e.href = pathStripped;\r\n\r\n      // tag IE9+\r\n      isLegacyIECss = 'hideFocus' in e;\r\n\r\n      // use preload in IE Edge (to detect load errors)\r\n      if (isLegacyIECss && e.relList) {\r\n         isLegacyIECss = 0;\r\n         e.rel = 'preload';\r\n         e.as = 'style';\r\n      }\r\n   } else if (/(^img!|\\.(png|gif|jpg|svg|webp)$)/.test(pathname)) {\r\n      // image\r\n      e = doc.createElement('img');\r\n      e.src = pathStripped;\r\n   } else {\r\n      // javascript\r\n      e = doc.createElement('script');\r\n      e.src = pathStripped;\r\n      e.async = async ===undefined ? true : async;\r\n\r\n      // handle es modules\r\n      // modern browsers:\r\n      //   module: add to dom with type=\"module\"\r\n      //   nomodule: call success() callback without adding to dom\r\n      // legacy browsers:\r\n      //   module: call success() callback without adding to dom\r\n      //   nomodule: add to dom with default type (\"text/javascript\")\r\n      hasModuleSupport = 'noModule' in e;\r\n      if (/^module!/.test(pathname)) {\r\n         if (!hasModuleSupport) return callbackFn(path, 'l');\r\n         e.type = \"module\";\r\n      } else if (/^nomodule!/.test(pathname) && hasModuleSupport) return callbackFn(path, 'l');\r\n   }\r\n\r\n   e.onload = e.onerror = e.onbeforeload = function (ev) {\r\n      var result = ev.type[0];\r\n\r\n      // treat empty stylesheets as failures to get around lack of onerror\r\n      // support in IE9-11\r\n      if (isLegacyIECss) {\r\n         try {\r\n            if (!e.sheet.cssText.length) result = 'e';\r\n         } catch (x) {\r\n            // sheets objects created from load errors don't allow access to\r\n            // `cssText` (unless error is Code:18 SecurityError)\r\n            if (x.code != 18) result = 'e';\r\n         }\r\n      }\r\n\r\n      // handle retries in case of load failure\r\n      if (result == 'e') {\r\n         // increment counter\r\n         numTries += 1;\r\n\r\n         // exit function and try again\r\n         if (numTries < maxTries) {\r\n            return loadFile(path, callbackFn, args, numTries);\r\n         }\r\n      } else if (e.rel == 'preload' && e.as == 'style') {\r\n         // activate preloaded stylesheets\r\n         return e.rel = 'stylesheet'; // jshint ignore:line\r\n      }\r\n\r\n      // execute callback\r\n      callbackFn(path, result, ev.defaultPrevented);\r\n   };\r\n\r\n   // add to document (unless callback returns `false`)\r\n   if (beforeCallbackFn(path, e) !== false) doc.head.appendChild(e);\r\n}\r\n\r\n\r\n/**\r\n * Load multiple files.\r\n * @param {string[]} paths - The file paths\r\n * @param {Function} callbackFn - The callback function\r\n */\r\nfunction loadFiles(paths, callbackFn, args) {\r\n   // listify paths\r\n   paths = paths.push ? paths : [paths];\r\n\r\n   var numWaiting = paths.length,\r\n      x = numWaiting,\r\n      pathsNotFound = [],\r\n      fn,\r\n      i;\r\n\r\n   // define callback function\r\n   fn = function (path, result, defaultPrevented) {\r\n      // handle error\r\n      if (result == 'e') pathsNotFound.push(path);\r\n\r\n      // handle beforeload event. If defaultPrevented then that means the load\r\n      // will be blocked (ex. Ghostery/ABP on Safari)\r\n      if (result == 'b') {\r\n         if (defaultPrevented) pathsNotFound.push(path);\r\n         else return;\r\n      }\r\n\r\n      numWaiting--;\r\n      if (!numWaiting) callbackFn(pathsNotFound);\r\n   };\r\n\r\n   // load scripts\r\n   for (i = 0; i < x; i++) loadFile(paths[i], fn, args);\r\n}\r\n\r\n\r\n/**\r\n * Initiate script load and register bundle.\r\n * @param {(string|string[])} paths - The file paths\r\n * @param {(string|Function|Object)} [arg1] - The (1) bundleId or (2) success\r\n *   callback or (3) object literal with success/error arguments, numRetries,\r\n *   etc.\r\n * @param {(Function|Object)} [arg2] - The (1) success callback or (2) object\r\n *   literal with success/error arguments, numRetries, etc.\r\n */\r\nfunction loadjs(paths, arg1, arg2) {\r\n   var bundleId,\r\n      args;\r\n\r\n   // bundleId (if string)\r\n   if (arg1 && arg1.trim) bundleId = arg1;\r\n\r\n   // args (default is {})\r\n   args = (bundleId ? arg2 : arg1) || {};\r\n\r\n   // throw error if bundle is already defined\r\n   if (bundleId) {\r\n      if (bundleId in bundleIdCache) {\r\n         throw \"LoadJS\";\r\n      } else {\r\n         bundleIdCache[bundleId] = true;\r\n      }\r\n   }\r\n\r\n   function loadFn(resolve, reject) {\r\n      loadFiles(paths, function (pathsNotFound) {\r\n         // execute callbacks\r\n         executeCallbacks(args, pathsNotFound);\r\n\r\n         // resolve Promise\r\n         if (resolve) {\r\n            executeCallbacks({ success: resolve, error: reject }, pathsNotFound);\r\n         }\r\n\r\n         // publish bundle load event\r\n         publish(bundleId, pathsNotFound);\r\n      }, args);\r\n   }\r\n\r\n   if (args.returnPromise) return new Promise(loadFn);\r\n   else loadFn();\r\n}\r\n\r\n\r\n/**\r\n * Execute callbacks when dependencies have been satisfied.\r\n * @param {(string|string[])} deps - List of bundle ids\r\n * @param {Object} args - success/error arguments\r\n */\r\nloadjs.ready = function ready(deps, args) {\r\n   // subscribe to bundle load event\r\n   subscribe(deps, function (depsNotFound) {\r\n      // execute callbacks\r\n      executeCallbacks(args, depsNotFound);\r\n   });\r\n\r\n   return loadjs;\r\n};\r\n\r\n\r\n/**\r\n * Manually satisfy bundle dependencies.\r\n * @param {string} bundleId - The bundle id\r\n */\r\nloadjs.done = function done(bundleId) {\r\n   publish(bundleId, []);\r\n};\r\n\r\n\r\n/**\r\n * Reset loadjs dependencies statuses\r\n */\r\nloadjs.reset = function reset() {\r\n   bundleIdCache = {};\r\n   bundleResultCache = {};\r\n   bundleCallbackQueue = {};\r\n};\r\n\r\n\r\n/**\r\n * Determine if bundle has already been defined\r\n * @param String} bundleId - The bundle id\r\n */\r\nloadjs.isDefined = function isDefined(bundleId) {\r\n   return bundleId in bundleIdCache;\r\n};\r\n\r\n\r\nexport default loadjs","/*!\n Copyright 2018 Google Inc. All Rights Reserved.\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n     http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\n/*! lifecycle.mjs v0.1.1 */\nlet e;try{new EventTarget,e=!0}catch(t){e=!1}class t{constructor(){this.e={}}addEventListener(e,t,s=!1){this.t(e).push(t)}removeEventListener(e,t,s=!1){const i=this.t(e),a=i.indexOf(t);a>-1&&i.splice(a,1)}dispatchEvent(e){return e.target=this,Object.freeze(e),this.t(e.type).forEach(t=>t(e)),!0}t(e){return this.e[e]=this.e[e]||[]}}var s=e?EventTarget:t;class i{constructor(e){this.type=e}}var a=e?Event:i;class n extends a{constructor(e,t){super(e),this.newState=t.newState,this.oldState=t.oldState,this.originalEvent=t.originalEvent}}const r=\"active\",h=\"passive\",c=\"hidden\",o=\"frozen\",d=\"terminated\",u=\"object\"==typeof safari&&safari.pushNotification,v=\"onpageshow\"in self,l=[\"focus\",\"blur\",\"visibilitychange\",\"freeze\",\"resume\",\"pageshow\",v?\"pagehide\":\"unload\"],g=e=>(e.preventDefault(),e.returnValue=\"Are you sure?\"),f=e=>e.reduce((e,t,s)=>(e[t]=s,e),{}),b=[[r,h,c,d],[r,h,c,o],[c,h,r],[o,c],[o,r],[o,h]].map(f),p=(e,t)=>{for(let s,i=0;s=b[i];++i){const i=s[e],a=s[t];if(i>=0&&a>=0&&a>i)return Object.keys(s).slice(i,a+1)}return[]},E=()=>document.visibilityState===c?c:document.hasFocus()?r:h;class m extends s{constructor(){super();const e=E();this.s=e,this.i=[],this.a=this.a.bind(this),l.forEach(e=>addEventListener(e,this.a,!0)),u&&addEventListener(\"beforeunload\",e=>{this.n=setTimeout(()=>{e.defaultPrevented||e.returnValue.length>0||this.r(e,c)},0)})}get state(){return this.s}get pageWasDiscarded(){return document.wasDiscarded||!1}addUnsavedChanges(e){!this.i.indexOf(e)>-1&&(0===this.i.length&&addEventListener(\"beforeunload\",g),this.i.push(e))}removeUnsavedChanges(e){const t=this.i.indexOf(e);t>-1&&(this.i.splice(t,1),0===this.i.length&&removeEventListener(\"beforeunload\",g))}r(e,t){if(t!==this.s){const s=this.s,i=p(s,t);for(let t=0;t<i.length-1;++t){const s=i[t],a=i[t+1];this.s=a,this.dispatchEvent(new n(\"statechange\",{oldState:s,newState:a,originalEvent:e}))}}}a(e){switch(u&&clearTimeout(this.n),e.type){case\"pageshow\":case\"resume\":this.r(e,E());break;case\"focus\":this.r(e,r);break;case\"blur\":this.s===r&&this.r(e,E());break;case\"pagehide\":case\"unload\":this.r(e,e.persisted?o:d);break;case\"visibilitychange\":this.s!==o&&this.s!==d&&this.r(e,E());break;case\"freeze\":this.r(e,o)}}}var w=new m;export default w;\n//# sourceMappingURL=lifecycle.mjs.map\n","import isPlainObject from 'lodash/isPlainObject'\r\nimport App from './app'\r\nimport { initSet, getMyApp, destroyMyApp, createMyApp, displayMyApp } from './app'\r\nimport { AppSetup } from './config'\r\nimport Data from './data'\r\nimport Component from './component'\r\nimport ComponentMixin from './component/baseMixin'\r\nimport Controller from './controller'\r\nimport Command from './command'\r\nimport TypeModel from './data/TypeModel'\r\nimport { EVENTS as events } from './events'\r\nimport * as Helper from './helper'\r\nimport * as Remote from './remote'\r\nimport * as Utils from './utils'\r\nimport loadjs from './utils/loadjs'\r\nimport pageLifecycle from 'page-lifecycle'\r\n\r\nimport './css.css'\r\nexport const utils = Utils\r\n//数据\r\nexport const rdata = Data\r\n// 组件\r\nexport const component = Component\r\n// 组件混入\r\nexport const componentMixin = ComponentMixin\r\n// 控制\r\nexport const controller = Controller\r\n// 命令\r\nexport const cmd = Command\r\n// 相关类型定义\r\nexport const typeModel = TypeModel\r\n// 事件\r\nexport const EVENTS = events;\r\n// 操作辅助\r\nexport const helper = Helper;\r\n// 远程接口数据\r\nexport const remote = Remote\r\n\r\nexport const app = App\r\nexport const appInfo = AppSetup\r\n\r\n// 创建舞台\r\nexport const createStage = function (options, props) {\r\n   if (AppSetup.status == 'none' || AppSetup.status == 'remove' || AppSetup.status == 'destroy') {\r\n      initSet(options)\r\n      Data.resetAppData()\r\n      // 创建应用\r\n      if (createMyApp(props)) {\r\n         // 注册组件到应用\r\n         component.install()\r\n         if (isPlainObject(options)) {\r\n            // 显示到舞台\r\n            displayStage(options)\r\n         }\r\n         return true\r\n      } else {\r\n         console.warn('应用已存在，不可重复创建')\r\n         return false\r\n      }\r\n   } else {\r\n      console.warn('应用创建失败')\r\n      return false\r\n   }\r\n}\r\n// 显示内容到舞台\r\nexport const displayStage = function (options) {\r\n   let appSetup = initSet({})\r\n   if (!getMyApp()) {\r\n      if (createMyApp()) {\r\n         component.reload()\r\n      }\r\n   }\r\n   if (appSetup.status != 'display') {\r\n      if (typeof options == 'string') {\r\n         appSetup = initSet({ dom: options })\r\n      } else if (isPlainObject(options)) {\r\n         appSetup = initSet(options)\r\n      }\r\n      // 显示舞台\r\n      displayMyApp()\r\n   } else {\r\n      console.warn('舞台已显示')\r\n   }\r\n}\r\n// 删除舞台\r\nexport const removeStage = function () {\r\n   // 卸载舞台应用\r\n   destroyMyApp()\r\n}\r\n// 销毁舞台\r\nexport const destroyStage = function (clearData = true) {\r\n   if (clearData) {\r\n      // 清除数据\r\n      Data.clearDataAll()\r\n      // 清除动作插件（外置）\r\n      Controller.removeAll()\r\n   }\r\n   // 清除组件\r\n   Component.removeAll()\r\n   // 清除动作事件\r\n   Command.clear()\r\n   // 助手临时数据\r\n   Helper.clear()\r\n   // 卸载舞台应用\r\n   destroyMyApp()\r\n   // 更改状态\r\n   AppSetup.status = \"destroy\"\r\n   console.log('%c灿destroy', 'color:#0aa100')\r\n}\r\n// 插件安装\r\nexport const use = function (install) {\r\n   if (install instanceof Function) {\r\n      install(runtime)\r\n   } else if (install && typeof install == 'object' && install.install && install.install instanceof Function) {\r\n      install.install(runtime)\r\n   }\r\n}\r\n// 异步插件安装\r\nexport const useAsync = function ({ url, name }) {\r\n   return new Promise((resolve, reject) => {\r\n      loadjs(url, function () {\r\n         if (typeof name == 'string') {\r\n            use(window[name])\r\n         } else if (Array.isArray(name)) {\r\n            name.forEach(element => {\r\n               use(window[element])\r\n            })\r\n         }\r\n         resolve()\r\n      })\r\n   })\r\n}\r\n// 创建应用\r\nexport const createApp = function (config) {\r\n   let _components = config.components || []\r\n   let _actions = config.actions || []\r\n   let _data = config.data || null\r\n   let _slots = config.slots || null\r\n   // 应用控制表现\r\n   let appConfig = {\r\n      width: config.width,\r\n      height: config.height,\r\n      backgroundColor: config.backgroundColor,\r\n      scaleMode: config.scaleMode,\r\n      dom: config.dom,\r\n      interaction: config.interaction,\r\n      clickCursor: config.clickCursor,\r\n      scale: config.scale\r\n   }\r\n   // 过滤未定义对象\r\n   let keys = Object.keys(appConfig)\r\n   keys.forEach(key => {\r\n      if (typeof appConfig[key] == 'undefined') {\r\n         delete appConfig[key]\r\n      }\r\n   })\r\n   // 附加组件\r\n   component.add(_components)\r\n   // 附加动作\r\n   use(_actions)\r\n   // 创建场景\r\n   let ok = createStage(appConfig, { slots: _slots })\r\n   // 初始化数据\r\n   rdata.init(_data)\r\n\r\n   return ok\r\n}\r\n// 页面生命周期\r\npageLifecycle.addEventListener('statechange', function (event) {\r\n   Command.emit(EVENTS.PAGE_STATE, { state: event.newState, oldState: event.oldState })\r\n});\r\nconst runtime = {\r\n   utils,\r\n   rdata,\r\n   component,\r\n   componentMixin,\r\n   controller,\r\n   cmd,\r\n   typeModel,\r\n   EVENTS,\r\n   helper,\r\n   remote,\r\n   app,\r\n   appInfo,\r\n   use,\r\n   useAsync,\r\n   createApp,\r\n   displayStage,\r\n   createStage,\r\n   destroyStage\r\n}\r\nif (typeof __APP_VERSION__ != 'undefined') {\r\n   console.log('%c' + __APP_VERSION__, 'color:#0aa100')\r\n}\r\nif (!('RD' in window)) {\r\n   window['RD'] = runtime\r\n}\r\n// export default runtime"],"names":["freeGlobal","global","_freeGlobal","require$$0","freeSelf","root","_root","Symbol","_Symbol","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","getRawTag","value","isOwn","tag","unmasked","result","_getRawTag","objectToString","_objectToString","require$$1","require$$2","nullTag","undefinedTag","baseGetTag","_baseGetTag","overArg","func","transform","arg","_overArg","getPrototype","_getPrototype","isObjectLike","isObjectLike_1","objectTag","funcProto","funcToString","objectCtorString","isPlainObject","proto","Ctor","isPlainObject_1","has","prefix","Events","EE","fn","context","once","addListener","emitter","event","listener","evt","clearEvent","EventEmitter","names","events","name","handlers","i","l","ee","listeners","a1","a2","a3","a4","a5","len","args","length","j","module","eventNames","interval","buffer","ispass","time","EVENTS","CEVENTS","t","e","this","n","r","s","a","o","f","h","c","d","y","M","m","v","u","g","D","p","_","S","w","O","$","T","formatFunc","rule","dayjs","readData","data","keyPath","mapKey","format","resData","keys","key","itemData","extractData","config","rowHead","element","index","item","jsonData","val","guid","S4","ids","_fun","_time","_id","id","idos","timeout","jsonToParams","removeArray","array","getUrlParam","decode","url","reg","x","evtCenter","command","eventName","fun","eventObj","force","_args","action","target","sendData","AppSetup","nanoid","size","bytes","byte","dispatchEvent","$el","component","list","sprites$1","ComponentMixin","anim","sprites","cmd","listCacheClear","_listCacheClear","eq","other","eq_1","assocIndexOf","_assocIndexOf","arrayProto","splice","listCacheDelete","lastIndex","_listCacheDelete","listCacheGet","_listCacheGet","listCacheHas","_listCacheHas","listCacheSet","_listCacheSet","require$$3","require$$4","ListCache","entries","entry","_ListCache","stackClear","_stackClear","stackDelete","_stackDelete","stackGet","_stackGet","stackHas","_stackHas","isObject","type","isObject_1","asyncTag","funcTag","genTag","proxyTag","isFunction","isFunction_1","coreJsData","_coreJsData","maskSrcKey","uid","isMasked","_isMasked","toSource","_toSource","reRegExpChar","reIsHostCtor","reIsNative","baseIsNative","pattern","_baseIsNative","getValue","object","_getValue","getNative","_getNative","Map","_Map","nativeCreate","_nativeCreate","hashClear","_hashClear","hashDelete","_hashDelete","HASH_UNDEFINED","hashGet","_hashGet","hashHas","_hashHas","hashSet","_hashSet","Hash","_Hash","mapCacheClear","_mapCacheClear","isKeyable","_isKeyable","getMapData","map","_getMapData","mapCacheDelete","_mapCacheDelete","mapCacheGet","_mapCacheGet","mapCacheHas","_mapCacheHas","mapCacheSet","_mapCacheSet","MapCache","_MapCache","LARGE_ARRAY_SIZE","stackSet","pairs","_stackSet","require$$5","Stack","_Stack","defineProperty","_defineProperty","baseAssignValue","_baseAssignValue","assignMergeValue","_assignMergeValue","createBaseFor","fromRight","iteratee","keysFunc","iterable","props","_createBaseFor","baseFor","_baseFor","freeExports","exports","freeModule","moduleExports","Buffer","allocUnsafe","cloneBuffer","isDeep","Uint8Array","_Uint8Array","cloneArrayBuffer","arrayBuffer","_cloneArrayBuffer","cloneTypedArray","typedArray","_cloneTypedArray","copyArray","source","_copyArray","objectCreate","baseCreate","_baseCreate","isPrototype","_isPrototype","initCloneObject","_initCloneObject","argsTag","baseIsArguments","_baseIsArguments","propertyIsEnumerable","isArguments","isArguments_1","isArray","isArray_1","MAX_SAFE_INTEGER","isLength","isLength_1","isArrayLike","isArrayLike_1","isArrayLikeObject","isArrayLikeObject_1","stubFalse","stubFalse_1","nativeIsBuffer","isBuffer","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","_baseIsTypedArray","baseUnary","_baseUnary","freeProcess","nodeUtil","types","nodeIsTypedArray","isTypedArray","isTypedArray_1","safeGet","_safeGet","assignValue","objValue","_assignValue","copyObject","customizer","isNew","newValue","_copyObject","baseTimes","_baseTimes","reIsUint","isIndex","_isIndex","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","_arrayLikeKeys","nativeKeysIn","_nativeKeysIn","baseKeysIn","isProto","_baseKeysIn","keysIn","keysIn_1","toPlainObject","toPlainObject_1","require$$6","require$$7","require$$8","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","baseMergeDeep","srcIndex","mergeFunc","stack","srcValue","stacked","isCommon","isTyped","_baseMergeDeep","baseMerge","_baseMerge","identity","identity_1","apply","thisArg","_apply","nativeMax","overRest","start","otherArgs","_overRest","constant","constant_1","baseSetToString","string","_baseSetToString","HOT_COUNT","HOT_SPAN","nativeNow","shortOut","count","lastCalled","stamp","remaining","_shortOut","setToString","_setToString","baseRest","_baseRest","isIterateeCall","_isIterateeCall","createAssigner","assigner","sources","guard","_createAssigner","merge","merge_1","components","simpleComponents","reactive","addComponent","baseMixin","app","delComponent","k","getComponentItems","install","com","reload","actions","TypeModel","componentArray","Component","mixins","emits","elements","modules","groups","simpleSprites","unwatchs","moduleCunt","groupCount","spriteCount","initCompData","option","defaultData","comp","title","setSprite","newData","delSprite","initModuleData","setModule","md","delModule","initGroupData","options","setGroup","group","delGroup","createSimpleData","getMaxZIndex","mid","b","setActionData","delActionData","getActionData","getActionsData","getActionList","clearAction","click","CMD","actionData.getActionList","executeActions","spid","actionsArr","lg","customize","componentName","evts","L","it","lifecycle","delay","interval$1","creatEvent","interaction.click","interaction.timeout","interaction.interval","interaction.customize","newMouleData","addElement","delElement","delModuleData","getModule","getModules","getModuleList","filter","items","getModuleComponents","clearModulesData","createSimpleGroup","newGroupData","simpleGroup","moduleAddElement","watch","attsVary","gpid","del","bind","point","moduleComps","gpids","spids","invalids","spr","sps","unbind","delSpriteData","createSimpleSprite","moduleDelElement","getGroup","getGroups","getGroupArrData","clearGroupsData","delOneSprite","res","clearSpriteData","sprite","appendSprite","simpleSprite","groupAddElement","addSpriteData","getSpritesData","getSpriteArrData","_sprites","getSpriteData","clearSpritesData","modules.newMouleData","modules.delModuleData","modules.getModules","modules.getModule","modules.getModuleList","modules.getModuleComponents","modules.clearModulesData","sprites.addSpriteData","sprites.delSpriteData","sprites.getSpritesData","sprites.getSpriteArrData","sprites.getSpriteData","sprites.clearSpritesData","Groups","Groups.getGroup","Groups.getGroups","Groups.getGroupArrData","Groups.clearGroupsData","delElementData","gps","Groups.delElement","modules.delElement","fillData","_module","moduleComponents","groupComponents","clearSprites","symbolTag","isSymbol","isSymbol_1","reIsDeepProp","reIsPlainProp","isKey","_isKey","FUNC_ERROR_TEXT","memoize","resolver","memoized","cache","memoize_1","MAX_MEMOIZE_SIZE","memoizeCapped","_memoizeCapped","rePropName","reEscapeChar","stringToPath","match","number","quote","subString","_stringToPath","arrayMap","_arrayMap","INFINITY","symbolProto","symbolToString","baseToString","_baseToString","toString","toString_1","castPath","_castPath","toKey","_toKey","baseGet","path","_baseGet","get","defaultValue","get_1","info","background","scale","computed","mvx","mvy","getDomRect","_dom","dom","rect","getScale","_size","network","initAppData","appBase","resetAppData","getAppData","nativeIsFinite","isFinite","_isFinite","token","responseType","request","_obj","authorization","headers","obj","resolve","reject","response","reqs","RequestData","callback","err","requestData$1","body","test","rid","req","RemoteData","extractRule","method","itval","ref","requestData","getBodyData","timeval","createRemoteData","remotes","remoteList","createExtractRule","getList","add","delRemote","getRemote","clearRemote","refresh","api","dataList","initData","reactiveData","addGData","remote.add","editGData","delGData","getGData","getGDataList","clearGlobal","GData","_data","addPlugin","pulugin","delPlugin","getPlugin","getPluginList","clearPlugin","spriteData.clearSprites","actData.clearAction","globalData.clearGlobal","remote.clearRemote","plugin.clearPlugin","modulesData","actionsData","globalData.addGData","plugin.addPlugin","appData.initAppData","spriteData.fillData","actData.setActionData","remote.requestData","getTemplateData","override","Data","_appData","appData.getAppData","spriteData.getModuleList","groupData","spriteData.getGroup","sprData","spriteData.getSpriteData","_globalData","globalData.getGDataList","actData.getActionList","plugin.getPluginList","remote.getList","appData","spriteData","actData","globalData","plugin","spriteData.getGroupArrData","spriteData.getSpriteArrData","appData.resetAppData","clear","newEventData","cmpName","getEvent","cmp","addEvent","pams","newEvent","editEvent","eventIndex","removeEvent","createActionData","actionName","description","editActionData","addAction","actionId","HelperEvent.getEvent","editAction","removeAction","removeSource","getSpriteActions","spriteActions","eve","myEvent","JD","ED","filterDatas","unwatch","stop","getDataSource","remote.remotes","gdid","arr","_remote","remote.getRemote","_o","_val","isReactive","setZindex","level","sprs","upId","upzIndex","copy","sid","spritesData","groupsData","newGroup","changeModuleShow","myid","createSprite","coms","resolveComponent","Stage","myData","pages","slots","isVNode","newPages","onMounted","containerList","content","fixed","overlayer","style","Module","toRefs","Plane","Popwin","Content","ContentFixed","Overlayer","itemStyle","Message","deleteItem","Mask","$event","Background","myStyle","SpriteGroup","provide","ctx","myClass","SpriteObject","slot","Display","vue","myapp","createMyApp","createApp","displayMyApp","destroyMyApp","initSet","getMyApp","App","uses","ActionTypes","executeAction","actionType","targetData","myTargetData","controller$1","_config","controller","devnull","bundleIdCache","bundleResultCache","bundleCallbackQueue","subscribe","bundleIds","callbackFn","depsNotFound","numWaiting","bundleId","q","pathsNotFound","publish","executeCallbacks","loadFile","numTries","doc","async","maxTries","beforeCallbackFn","pathname","pathStripped","isLegacyIECss","hasModuleSupport","ev","loadFiles","paths","defaultPrevented","loadjs","arg1","arg2","loadFn","deps","i$1","E","utils","Utils","rdata","componentMixin","Controller","Command","typeModel","helper","Helper","remote","Remote","appInfo","createStage","displayStage","appSetup","removeStage","destroyStage","clearData","Helper.clear","use","runtime","useAsync","_components","_actions","_slots","appConfig","ok","pageLifecycle"],"mappings":"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"}